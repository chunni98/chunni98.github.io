<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Windows Terminal ç¾åŒ– - Chunni&#39;s Blog</title><link rel="icon" type="image/png" href=/img/favicon.ico /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="å¯¹ windows terminal åšä¸€äº›ç®€å•çš„ç¾åŒ–å·¥ä½œã€‚" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="Windows Terminal ç¾åŒ–" />
<meta property="og:description" content="å¯¹ windows terminal åšä¸€äº›ç®€å•çš„ç¾åŒ–å·¥ä½œã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chunni98.github.io/posts/beautify-windows-terminal/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-31T11:55:21+08:00" />
<meta property="article:modified_time" content="2023-05-31T11:55:21+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Windows Terminal ç¾åŒ–"/>
<meta name="twitter:description" content="å¯¹ windows terminal åšä¸€äº›ç®€å•çš„ç¾åŒ–å·¥ä½œã€‚"/>
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://chunni98.github.io/css/main.d902908ac6e0fab67957de5db5aea1b6455b19ae2ca98eac4c95a4a0fdc02238.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://chunni98.github.io/css/dark.c95c5dcf5f32f8b67bd36f7dab66680e068fce2b303087294114aabf7a7c080b.css"  disabled />
	

	
	

	
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://chunni98.github.io/">Chunni&#39;s Blog</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">Archives</a>
		
		<a href="/tags">Tags</a>
		
		<a href="/stories">Stories</a>
		
		<a href="/wiki/">Wiki</a>
		
		<a href="/about">About</a>
		
		| <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
		<script src="https://chunni98.github.io/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Windows Terminal ç¾åŒ–</h1>
			<div class="meta">Posted on May 31, 2023</div>
		</div>
		
		<div class="tldr">
			<strong>tl;dr:</strong>
			å¯¹ windows terminal åšä¸€äº›ç®€å•çš„ç¾åŒ–å·¥ä½œã€‚
		</div>

		<section class="body">
			<ul>
<li><a href="#%E5%89%8D%E8%A8%80">å‰è¨€</a></li>
<li><a href="#1-powershell7">1 powershell7</a>
<ul>
<li><a href="#11-%E7%AE%80%E4%BB%8B">1.1 ç®€ä»‹</a></li>
<li><a href="#12-%E5%AE%89%E8%A3%85">1.2 å®‰è£…</a></li>
</ul>
</li>
<li><a href="#2-starship">2 starship</a>
<ul>
<li><a href="#21-%E7%AE%80%E4%BB%8B">2.1 ç®€ä»‹</a></li>
<li><a href="#22-%E5%AE%89%E8%A3%85">2.2 å®‰è£…</a></li>
<li><a href="#23-%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE">2.3 ä¸ªæ€§åŒ–é…ç½®</a></li>
</ul>
</li>
<li><a href="#3-%E5%85%B6%E4%BB%96">3 å…¶ä»–</a>
<ul>
<li><a href="#31-%E5%AE%89%E8%A3%85-gsudo">3.1 å®‰è£… gsudo</a></li>
<li><a href="#32-%E5%9C%A8%E5%8C%85%E5%90%AB-c-%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6%E7%9A%84%E8%B7%AF%E5%BE%84%E4%B8%8B%E6%89%93%E5%BC%80-powershell-%E4%BC%9A%E5%87%BA%E7%8E%B0%E8%AD%A6%E5%91%8A">3.2 åœ¨åŒ…å« C è¯­è¨€æ–‡ä»¶çš„è·¯å¾„ä¸‹æ‰“å¼€ powershell ä¼šå‡ºç°è­¦å‘Š</a></li>
</ul>
</li>
<li><a href="#%E5%8F%82%E8%80%83">å‚è€ƒ</a></li>
</ul>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>windows11 ä½œä¸ºæˆ‘å½“ä¸‹æœ€å¸¸ç”¨çš„æ“ä½œç³»ç»Ÿï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦åœ¨ windows11 ä¸Šè¿›è¡Œå¨±ä¹ã€å¼€å‘ç­‰å·¥ä½œã€‚</p>
<p>ä¸ºäº†ä¼˜åŒ–å¼€å‘ä½“éªŒï¼Œå¯¹ windows terminal åšä¸€äº›ä¼˜åŒ–å’Œç¾åŒ–ï¼Œä¸‹é¢æ˜¯è¯¦ç»†æ­¥éª¤ã€‚</p>
<h2 id="1-powershell7">1 powershell7</h2>
<h3 id="11-ç®€ä»‹">1.1 ç®€ä»‹</h3>
<blockquote>
<p>PowerShell 7 æ˜¯ä¸“ä¸ºäº‘ã€æœ¬åœ°å’Œæ··åˆç¯å¢ƒè®¾è®¡çš„ï¼Œå®ƒåŒ…å«å¢å¼ºåŠŸèƒ½å’Œæ–°åŠŸèƒ½ã€‚</p>
<p>ä¸ Windows PowerShell å¹¶è¡Œå®‰è£…å’Œè¿è¡Œ
æå‡äº†ä¸ç°æœ‰ Windows PowerShell æ¨¡å—çš„å…¼å®¹æ€§
æ–°è¯­è¨€åŠŸèƒ½ï¼ˆå¦‚ä¸‰å…ƒè¿ç®—ç¬¦å’Œ ForEach-Object -Parallelï¼‰
æé«˜äº†æ€§èƒ½
åŸºäº SSH çš„è¿œç¨‹å¤„ç†
è·¨å¹³å°äº’æ“ä½œæ€§
æ”¯æŒ Docker å®¹å™¨</p>
<p>&ndash; <a href="https://learn.microsoft.com/zh-cn/powershell/scripting/whats-new/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.3">Microsoft</a></p>
</blockquote>
<h3 id="12-å®‰è£…">1.2 å®‰è£…</h3>
<p>ç›´æ¥ä½¿ç”¨ winget å®‰è£…ï¼š</p>
<p><code>winget install Microsoft.PowerShell -s winget</code>ã€‚</p>
<p>å®‰è£…å®Œåï¼Œæ›´æ”¹é…ç½®ä½¿ windows terminal é»˜è®¤å¯åŠ¨ powershell7ï¼Œå…‰æ ‡å½¢çŠ¶ä¸ºç©ºå¿ƒæ¡†ã€‚</p>
<p><img src="/img/beautify-win-terminal/0.png" alt=""></p>
<p><img src="/img/beautify-win-terminal/1.png" alt=""></p>
<h2 id="2-starship">2 starship</h2>
<h3 id="21-ç®€ä»‹">2.1 ç®€ä»‹</h3>
<p>æœ€å¼€å§‹ç”¨çš„æ˜¯ <a href="https://www.powershellgallery.com/packages/oh-my-posh/7.85.2">oh-my-posh</a>ï¼Œå®ƒæ˜¯ PowerShell ä¸»é¢˜ç®¡ç†å·¥å…·ï¼Œä½†æ˜¯ï¼Œè¯•ç”¨è¿‡åè§‰å¾—å®ƒæ‹–ç´¯äº† pwshçš„é€Ÿåº¦ï¼Œå¹³å‡éƒ½æ¯æ¬¡å¯åŠ¨è¦ 2600 ~ 3600 ms å·¦å³ï¼Œå®åœ¨å¿ä¸äº†ï¼Œå› ä¸ºå®ƒä¸ºäº†è·¨å¹³å°é‡‡ç”¨ go è¯­è¨€å®ç°ã€‚</p>
<p>æ‰€ä»¥æˆ‘é€‰æ‹©äº†ä½¿ç”¨ rust è¯­è¨€å®ç°çš„ <a href="https://starship.rs/zh-CN/">starship</a>ï¼Œæ¯æ¬¡å¯åŠ¨æœ€å¤šä¸è¶…è¿‡ 500 msï¼Œä½“éªŒéå¸¸å¥½ã€‚</p>
<h3 id="22-å®‰è£…">2.2 å®‰è£…</h3>
<p><strong>1. å®‰è£…å­—ä½“ NerdFont</strong></p>
<p>è¿™é‡Œæˆ‘é€‰æ‹©äº† <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.1/FiraCode.zip">FiraCodeNerdFont</a>ã€‚</p>
<p>å®‰è£…åï¼Œä¿®æ”¹ pwsh å­—ä½“ä¸ºï¼šFiraCodeNerdFontã€‚</p>
<p><strong>2. å®‰è£… Starship</strong></p>
<p>ä½¿ç”¨åŒ…ç®¡ç†å™¨ winget å®‰è£…ï¼š</p>
<p><code>winget install starship</code>ã€‚</p>
<p><img src="/img/beautify-win-terminal/3.png" alt=""></p>
<p><strong>3. ç®€å•é…ç½®</strong></p>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚</p>
<p>å¯ä»¥åœ¨ PowerShell é€šè¿‡ <code>$PROFILE</code> å˜é‡æ¥æŸ¥è¯¢æ–‡ä»¶çš„ä½ç½®ã€‚</p>
<p>é€šå¸¸æ–‡ä»¶è·¯å¾„æ˜¯ <code>~\Documents\PowerShell\Microsoft.PowerShell_profile.ps1</code> æˆ– <code>~/.config/powershell/Microsoft.PowerShell_profile.ps1</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>&gt;notepad $PROFILE
</span></span></code></pre></div><p>æ‰“å¼€æ–‡ä»¶åæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Invoke-Expression (&amp;starship init powershell)
</span></span></code></pre></div><p><img src="/img/beautify-win-terminal/4.png" alt=""></p>
<h3 id="23-ä¸ªæ€§åŒ–é…ç½®">2.3 ä¸ªæ€§åŒ–é…ç½®</h3>
<p><strong>1. åˆ›å»ºé…ç½®æ–‡ä»¶</strong></p>
<p>åœ¨å®¶ç›®å½•ä¸‹åˆ›å»º <code>.config/starship.toml</code> æ–‡ä»¶ã€‚</p>
<p><img src="/img/beautify-win-terminal/5.png" alt=""></p>
<p>é…ç½®å¯ä»¥å‚è€ƒä¸€ä»½<a href="https://i.steer.space/blog/2021/05/startship-shell-prompt-config">ä»¿ ys é…ç½®</a>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#75715e"># Use custom format</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">username</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style_user</span> = <span style="color:#e6db74">&#34;white bold&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style_root</span> = <span style="color:#e6db74">&#34;black bold&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#34;[$user]($style) &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">show_always</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">directory</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncation_length</span> = <span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncation_symbol</span> = <span style="color:#e6db74">&#34;â€¦/&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">hostname</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ssh_only</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> =  <span style="color:#e6db74">&#34;on [$hostname](bold red) &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">trim_at</span> = <span style="color:#e6db74">&#34;.companyname.com&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">status</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style</span> = <span style="color:#e6db74">&#34;bg:blue&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ğŸ”´&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#39;[\[$symbol $common_meaning$signal_name$maybe_int\]]($style) &#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">map_symbol</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">time</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#39;[\[ $time \]]($style) &#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">time_format</span> = <span style="color:#e6db74">&#34;%T&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">utc_time_offset</span> = <span style="color:#e6db74">&#34;+8&#34;</span>
</span></span></code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="/img/beautify-win-terminal/6.png" alt=""></p>
<p><img src="/img/beautify-win-terminal/7.png" alt=""></p>
<p>æˆ‘å‚è€ƒäº†å¾ˆå¤šé…ç½®åé­”æ”¹çš„é…ç½®æ˜¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#75715e">#[line_break]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#disable = true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#add_newline = false</span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">line_break</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">username</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style_user</span> = <span style="color:#e6db74">&#34;white bold&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style_root</span> = <span style="color:#e6db74">&#34;black bold&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#34;[shachi]($style) &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">show_always</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">status</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style</span> = <span style="color:#e6db74">&#34;bg:#bd93f9&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;âŒ&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#39;[\[$symbol $common_meaning$signal_name$maybe_int\]]($style) &#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">map_symbol</span> = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">time</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#39;[\[ $time \]]($style) &#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">time_format</span> = <span style="color:#e6db74">&#34;%T&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">utc_time_offset</span> = <span style="color:#e6db74">&#34;+8&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">c</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> = [[<span style="color:#e6db74">&#39;&#39;</span>,<span style="color:#e6db74">&#39;&#39;</span>]]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">directory</span>.<span style="color:#a6e22e">substitutions</span>]
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Documents&#34;</span> = <span style="color:#e6db74">&#34;ó°ˆ™&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Downloads&#34;</span> = <span style="color:#e6db74">&#34;ï€™&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Music&#34;</span> = <span style="color:#e6db74">&#34;ï€&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Pictures&#34;</span> = <span style="color:#e6db74">&#34;ï€¾&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">aws</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;îŒ½  &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">buf</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ï’ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">conda</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ï„Œ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">dart</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">directory</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">read_only</span> = <span style="color:#e6db74">&#34;ï€£ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncation_length</span> = <span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncation_symbol</span> = <span style="color:#e6db74">&#34;â€¦/&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">docker_context</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ïŒˆ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">elixir</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î‰µ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">elm</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î˜¬ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">fossil_branch</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ï˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">git_branch</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ï˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">golang</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î˜§ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">guix_shell</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ïŒ¥ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">haskell</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î· &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">haxe</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;âŒ˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">hg_branch</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ï˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">hostname</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ssh_symbol</span> = <span style="color:#e6db74">&#34;î¬ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ssh_only</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#format = &#34;@ [$hostname]($style)&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">format</span> = <span style="color:#e6db74">&#34;@ î˜ª lenovo in ($style)&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">trim_at</span> = <span style="color:#e6db74">&#34;-&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">style</span> = <span style="color:#e6db74">&#34;bold dimmed white&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">java</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î‰– &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">julia</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î˜¤ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">lua</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î˜  &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">memory_usage</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ó°› &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">meson</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ó°”· &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">nim</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ó°†¥ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">nix_shell</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ïŒ“ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">nodejs</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;îœ˜ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">symbols</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Alpaquita</span> = <span style="color:#e6db74">&#34;îª¢ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Alpine</span> = <span style="color:#e6db74">&#34;ïŒ€ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Amazon</span> = <span style="color:#e6db74">&#34;ï‰° &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Android</span> = <span style="color:#e6db74">&#34;ï…» &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Arch</span> = <span style="color:#e6db74">&#34;ïŒƒ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Artix</span> = <span style="color:#e6db74">&#34;ïŒŸ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">CentOS</span> = <span style="color:#e6db74">&#34;ïŒ„ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Debian</span> = <span style="color:#e6db74">&#34;ïŒ† &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">DragonFly</span> = <span style="color:#e6db74">&#34;îŠ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Emscripten</span> = <span style="color:#e6db74">&#34;ïˆ… &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">EndeavourOS</span> = <span style="color:#e6db74">&#34;ï†— &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Fedora</span> = <span style="color:#e6db74">&#34;ïŒŠ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">FreeBSD</span> = <span style="color:#e6db74">&#34;ïŒŒ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Garuda</span> = <span style="color:#e6db74">&#34;ó°›“ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Gentoo</span> = <span style="color:#e6db74">&#34;ïŒ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">HardenedBSD</span> = <span style="color:#e6db74">&#34;ï‰” &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Illumos</span> = <span style="color:#e6db74">&#34;ó°ˆ¸ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Linux</span> = <span style="color:#e6db74">&#34;ïŒš &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Mabox</span> = <span style="color:#e6db74">&#34;î¬© &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Macos</span> = <span style="color:#e6db74">&#34;ïŒ‚ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Manjaro</span> = <span style="color:#e6db74">&#34;ïŒ’ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Mariner</span> = <span style="color:#e6db74">&#34;ï‡ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">MidnightBSD</span> = <span style="color:#e6db74">&#34;ï†† &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Mint</span> = <span style="color:#e6db74">&#34;ïŒ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">NetBSD</span> = <span style="color:#e6db74">&#34;ï€¤ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">NixOS</span> = <span style="color:#e6db74">&#34;ïŒ“ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">OpenBSD</span> = <span style="color:#e6db74">&#34;ó°ˆº &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">openSUSE</span> = <span style="color:#e6db74">&#34;ïŒ” &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">OracleLinux</span> = <span style="color:#e6db74">&#34;ó°Œ· &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Pop</span> = <span style="color:#e6db74">&#34;ïŒª &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Raspbian</span> = <span style="color:#e6db74">&#34;ïŒ• &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Redhat</span> = <span style="color:#e6db74">&#34;ïŒ– &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">RedHatEnterprise</span> = <span style="color:#e6db74">&#34;ïŒ– &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Redox</span> = <span style="color:#e6db74">&#34;ï”— &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Solus</span> = <span style="color:#e6db74">&#34;ó°¯Š &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SUSE</span> = <span style="color:#e6db74">&#34;ïŒ” &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Ubuntu</span> = <span style="color:#e6db74">&#34;ïŒ› &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Unknown</span> = <span style="color:#e6db74">&#34;ïˆ­ &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Windows</span> = <span style="color:#e6db74">&#34;î˜ª &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">package</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ï’‡ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">pijul_channel</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ğŸªº &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">python</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;îˆµ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">rlang</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;îšŠ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">ruby</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î‘ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">rust</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;î¨ &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">scala</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;îœ· &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">spack</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">symbol</span> = <span style="color:#e6db74">&#34;ğŸ…¢ &#34;</span>
</span></span></code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="/img/beautify-win-terminal/8.png" alt=""></p>
<h2 id="3-å…¶ä»–">3 å…¶ä»–</h2>
<h3 id="31-å®‰è£…-gsudo">3.1 å®‰è£… gsudo</h3>
<p>è¿™æ ·å°±å¯ä»¥åœ¨ windows ä¸Šåƒåœ¨ linux ä¸­ä¸€æ ·æ–¹ä¾¿åœ°ä½¿ç”¨ <code>sudo</code> è·å–ç®¡ç†å‘˜æƒé™äº†ã€‚</p>
<p><code>winget install gsudo --source winget</code></p>
<h3 id="32-åœ¨åŒ…å«-c-è¯­è¨€æ–‡ä»¶çš„è·¯å¾„ä¸‹æ‰“å¼€-powershell-ä¼šå‡ºç°è­¦å‘Š">3.2 åœ¨åŒ…å« C è¯­è¨€æ–‡ä»¶çš„è·¯å¾„ä¸‹æ‰“å¼€ powershell ä¼šå‡ºç°è­¦å‘Š</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[WARN] - (starship::utils): Unable to decode stdout: FromUtf8Error
</span></span><span style="display:flex;"><span>â€¦â€¦
</span></span><span style="display:flex;"><span>error: Utf8Error { valid_up_to: 77, error_len: Some(1) } }
</span></span></code></pre></div><p>å¦‚å›¾ï¼š</p>
<p><img src="/img/beautify-win-terminal/9.png" alt=""></p>
<p>åæ¥åˆ†æï¼Œåº”è¯¥æ˜¯ starship æ²¡åŠæ³•æ­£ç¡®è§£æ <code>gcc --version</code> è¾“å‡ºçš„ç‰ˆæœ¬æ•°æ®ã€‚</p>
<p>æŸ¥é˜… <a href="https://starship.rs/zh-CN/config/#c">starshipæ–‡æ¡£</a> åå‘ç°</p>
<p>C çš„é…ç½®é¡¹é‡Œï¼š</p>
<p>æœ‰ä¸ª <code>commands</code>	ï¼Œé»˜è®¤å€¼ä¸º <code>[ [ 'cc', '--version' ], [ 'gcc', '--version' ], [ 'clang', '--version' ] ]</code>ï¼Œç”¨æ¥æ£€æµ‹ç¼–è¯‘å™¨çš„ç‰ˆæœ¬ã€‚</p>
<p>å¯èƒ½æ˜¯å› ä¸ºæˆ‘ç”¨çš„æ˜¯ tdmgccï¼Ÿ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ gcc --version
</span></span><span style="display:flex;"><span>gcc.exe <span style="color:#f92672">(</span>tdm64-1<span style="color:#f92672">)</span> 10.3.0
</span></span><span style="display:flex;"><span>Copyright <span style="color:#f92672">(</span>c<span style="color:#f92672">)</span> <span style="color:#ae81ff">2020</span> Free Software Foundation, Inc.
</span></span><span style="display:flex;"><span>æœ¬ç¨‹åºæ˜¯è‡ªç”±è½¯ä»¶ï¼›è¯·å‚çœ‹æºä»£ç çš„ç‰ˆæƒå£°æ˜ã€‚æœ¬è½¯ä»¶æ²¡æœ‰ä»»ä½•æ‹…ä¿ï¼›
</span></span><span style="display:flex;"><span>åŒ…æ‹¬æ²¡æœ‰é€‚é”€æ€§å’ŒæŸä¸€ä¸“ç”¨ç›®çš„ä¸‹çš„é€‚ç”¨æ€§æ‹…ä¿ã€‚
</span></span></code></pre></div><p>è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œåˆ é™¤é»˜è®¤å€¼å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">c</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> = [[<span style="color:#e6db74">&#39;&#39;</span>,<span style="color:#e6db74">&#39;&#39;</span>]]
</span></span></code></pre></div><h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<ul>
<li><a href="https://learn.microsoft.com/zh-cn/powershell/scripting/whats-new/migrating-from-windows-powershell-51-to-powershell-7?view=powershell-7.3">ä» Windows PowerShell 5.1 è¿ç§»åˆ° PowerShell 7</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/352882990">Windows Terminal ä¸»é¢˜ç¾åŒ–</a></li>
<li><a href="https://i.steer.space/blog/2021/05/startship-shell-prompt-config">Starshipé…ç½®å‘½ä»¤è¡Œæç¤ºç¬¦</a></li>
<li><a href="https://starship.rs/zh-CN/">startship å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr>
<p>ç•™è¨€æˆ–è¯„è®ºè¯·ä½¿ç”¨ <a href="https://github.com/chunni98/chunni98.github.io/issues">Github Issues</a>ã€‚</p>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/windows">windows</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/chunni98" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a><a class="soc" href="https://space.bilibili.com/11612100" rel="me" title="bilibili"><i data-feather="link"></i></a>
    <a class="border"></a><a class="soc" href="https://www.douban.com/people/spring-soil/?_i=6342304DLydoCo" rel="me" title="douban"><i data-feather="link"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2023  Â© æ˜¥æ³¥ |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>

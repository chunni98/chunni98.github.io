(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{335:function(e,s,t){"use strict";t.r(s);var a=t(14),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"_1-简明指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简明指南"}},[e._v("#")]),e._v(" 1 简明指南")]),e._v(" "),t("p",[e._v("创建新仓库："),t("code",[e._v("git init")]),e._v("。")]),e._v(" "),t("p",[e._v("检出仓库："),t("code",[e._v("git clone /path/to/repository")]),e._v(" 创建一个本地仓库的克隆版本。")]),e._v(" "),t("p",[e._v("工作流：工作目录、暂存区 index、HEAD")]),e._v(" "),t("p",[e._v("添加到暂存区："),t("code",[e._v("git add <filename>")]),e._v(", "),t("code",[e._v("git add *")]),e._v(","),t("code",[e._v("git add .")])]),e._v(" "),t("p",[e._v("提交到 HEAD："),t("code",[e._v('git commit -m "代码提交信息"')])]),e._v(" "),t("p",[t("img",{attrs:{src:"/wiki/inbox/git2.png",alt:""}})]),e._v(" "),t("p",[e._v("推送改动："),t("code",[e._v("git push origin <branchname>")]),e._v(" 将 HEAD 推送到远端仓库。")]),e._v(" "),t("p",[e._v("连接服务器："),t("code",[e._v("git remote add <servername> <server>")])]),e._v(" "),t("p",[e._v("分支：master 是默认分支。")]),e._v(" "),t("p",[e._v('分支是用来将特性开发绝缘开来的。在你创建仓库的时候，master 是"默认的"分支。在其他分支上进行开发，完成后再将它们合并到主分支上。')]),e._v(" "),t("p",[e._v("使用分支意味着你可以从开发主线上分离开来，然后在不影响主线的同时继续工作。")]),e._v(" "),t("p",[e._v("创建分支并切换："),t("code",[e._v("git checkout -b feature_x")])]),e._v(" "),t("p",[e._v("切换分支："),t("code",[e._v("git checkout master")])]),e._v(" "),t("p",[e._v("删掉分支："),t("code",[e._v("git branch -d feautre_x")])]),e._v(" "),t("p",[e._v("更新本地仓库："),t("code",[e._v("git pull")]),e._v("，"),t("code",[e._v("fetch")]),e._v(" 并 "),t("code",[e._v("merge")]),e._v(" 远端的改动。")]),e._v(" "),t("p",[t("code",[e._v("git fetch <alias> <branch>")]),e._v(" 将远程主机的最新内容拉到本地。")]),e._v(" "),t("p",[e._v("取回更新后，会返回一个FETCH_HEAD ，指的是某个branch在服务器上的最新状态，我们可以在本地通过它查看刚取回的更新信息")]),e._v(" "),t("p",[t("code",[e._v("git log -p FETCH_HEAD")])]),e._v(" "),t("p",[t("code",[e._v("git merge <alias/branch>")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("          A---B---C feature\n         /\nD---E---F master\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("将分支合并到当前分支中。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("          A---B---C feature\n         /         master\nD---E---F\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[t("code",[e._v("--no-ff")]),e._v(" 会让 Git 生成一个新的提交对象，禁止快进式合并。")]),e._v(" "),t("p",[t("code",[e._v('git merge --no-ff -m "xxx" <alias/branch>')])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("          A---B---C feature\n         /         \\\nD---E---F-----------G master\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("--no-ff 禁止了快进，所以会生成一个新的提交，master 指向 G。")]),e._v(" "),t("p",[t("code",[e._v("git pull")]),e._v(" 相当于："),t("code",[e._v("git fetch origin main; git merge FETC_HEAD")])]),e._v(" "),t("p",[e._v("要合并到其他分支，执行："),t("code",[e._v("git merge <branch>")])]),e._v(" "),t("p",[e._v("如果有冲突，手动合并，并使用 "),t("code",[e._v("git add <filename>")]),e._v(" 标记合并成功。")]),e._v(" "),t("p",[t("code",[e._v("git diff <source branch> <target branch>")]),e._v(" 预览差异。")]),e._v(" "),t("p",[e._v("只要不与 origin 服务器连接，"),t("code",[e._v("origin/master")]),e._v(" 指针就不会移动。")]),e._v(" "),t("p",[t("img",{attrs:{src:"/wiki/inbox/git1.png",alt:""}})]),e._v(" "),t("p",[t("img",{attrs:{src:"/wiki/inbox/fetch.png",alt:""}})]),e._v(" "),t("p",[e._v("标签："),t("code",[e._v("git tag 1.0.0 1b2e1d63ff")]),e._v(" 创建一个 1.0.0 的标签。")]),e._v(" "),t("p",[e._v("获取提交 id: "),t("code",[e._v("git log")])]),e._v(" "),t("p",[e._v("查看所有分支："),t("code",[e._v("git branch -a")]),e._v(" "),t("code",[e._v("git branch -av")]),e._v(" 查看所有分支+上次提交的信息")]),e._v(" "),t("p",[t("code",[e._v('"A Dog" = git log --all --decorate --oneline --graph')])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("git log --all --decorate --oneline --graph\n\n--oneline \t日志单行显示\n--graph\t\t分支图显示\n--decorate \t可显示分支名称\n--all\t\t显示所有分支\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])]),t("p",[e._v("替换本地改动："),t("code",[e._v("git checkout --<filename>")])]),e._v(" "),t("p",[e._v("此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。")]),e._v(" "),t("p",[e._v("已添加到暂存区的改动以及新文件都不会受到影响。")]),e._v(" "),t("p",[e._v("如果想丢弃本地的所有改动与提交，可以到服务器上获取最新的版本历史，并将你本地主分支指向它：")]),e._v(" "),t("p",[t("code",[e._v("git fetch origin")])]),e._v(" "),t("p",[t("code",[e._v("git reset --hard origin/master")])]),e._v(" "),t("p",[e._v("查看仓库当前的状态，显示有变更的文件："),t("code",[e._v("git status")])]),e._v(" "),t("p",[e._v("将文件从暂存区和工作区删除："),t("code",[e._v("git rm")])]),e._v(" "),t("p",[e._v("生成 SSH keys：")]),e._v(" "),t("p",[t("code",[e._v('$ ssh-keygen -t ed25519 -C "your_email@example.com"')])]),e._v(" "),t("p",[e._v("设置 username 和 email：")]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--global")]),e._v(" user.name "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"your name"')]),e._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--global")]),e._v(" user.email "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"your_email@youremail.com"')]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("h2",{attrs:{id:"廖雪峰-git-教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#廖雪峰-git-教程"}},[e._v("#")]),e._v(" 廖雪峰 git 教程")]),e._v(" "),t("p",[t("code",[e._v("git init")]),e._v(" 初始化版本库。")]),e._v(" "),t("p",[t("code",[e._v("git add 文件名")]),e._v(" 把文件添加到暂存区。")]),e._v(" "),t("p",[t("code",[e._v('git commit -m "提交消息"')]),e._v(" 把文件提交到 "),t("code",[e._v("HEAD")]),e._v("。")]),e._v(" "),t("p",[t("code",[e._v("git status")]),e._v(" 显示工作树状态。")]),e._v(" "),t("p",[t("code",[e._v("git diff")]),e._v(" 查看尚未缓存的改动 。")]),e._v(" "),t("p",[t("code",[e._v("git diff --cached")]),e._v(" 查看已缓存的改动。")]),e._v(" "),t("p",[t("code",[e._v("git diff HEAD")]),e._v(" 查看已缓存的和未缓存的所有改动。")]),e._v(" "),t("p",[t("code",[e._v("git rm [-r] --cached 文件名")]),e._v(" 从暂存区删除文件（夹），不会删除本地文件。")]),e._v(" "),t("p",[t("code",[e._v("git rm --cached .")]),e._v(" 清空暂存区。")]),e._v(" "),t("p",[t("code",[e._v("git log --oneline --graph --decorate --all")]),e._v(" 查看提交日志。")]),e._v(" "),t("p",[t("code",[e._v("HEAD")]),e._v(" 表示当前版本，即最新的提交。"),t("code",[e._v("HEAD^")]),e._v(" 上一个提交。"),t("code",[e._v("HEAD^100")]),e._v("，往上 100 个版本。")]),e._v(" "),t("p",[t("code",[e._v("git reset --hard HEAD^")]),e._v(" 退回到上一个版本。")]),e._v(" "),t("p",[t("code",[e._v("git reset --hard 1094a")]),e._v(" 退回到指定版本。")]),e._v(" "),t("p",[e._v("回退版本时仅仅是更改 HEAD 指向，然后更新工作区。")]),e._v(" "),t("p",[t("code",[e._v("git reflog")]),e._v(" 查看历史命令。")]),e._v(" "),t("p",[e._v("工作区、暂存区、版本库。"),t("code",[e._v("git add")]),e._v(" 把所有要提交的修改放到暂存区。"),t("code",[e._v("git commit")]),e._v(" 把所有暂存区的修改提交到版本库。")]),e._v(" "),t("p",[t("code",[e._v("git checkout -- 文件名")]),e._v(" 丢弃工作区的修改。")]),e._v(" "),t("p",[t("code",[e._v("git reset HEAD 文件名")]),e._v(" 把暂存区的修改撤销掉，回滚。")]),e._v(" "),t("p",[t("code",[e._v("git rm")]),e._v(" 从本地中删除文件。")]),e._v(" "),t("p",[t("code",[e._v("git checkout -- 文件名")]),e._v(" 用版本库的文件还原工作区的版本。从来没有添加到版本库的文件，是无法恢复的。")]),e._v(" "),t("p",[t("code",[e._v('ssh-keygen -t rsa -C "youremail@example.com"')]),e._v(" 创建 SSH Key。")]),e._v(" "),t("p",[t("code",[e._v("git remote add origin git@github.com:xxxxxx/xxx.git")]),e._v(" 添加远程库。")]),e._v(" "),t("p",[e._v("远程库名字就是 origin。")]),e._v(" "),t("p",[t("code",[e._v("git push origin master")]),e._v(" 把当前分支 "),t("code",[e._v("master")]),e._v(" 推送到 origin。")]),e._v(" "),t("p",[t("code",[e._v("git remote -v")]),e._v(" 查看远程库信息。")]),e._v(" "),t("p",[t("code",[e._v("git remote rm 库名")]),e._v(" 删除库。")]),e._v(" "),t("p",[t("code",[e._v("git clone git@github.com:xxx/xxx.git")]),e._v(" 克隆一个本地库。")]),e._v(" "),t("p",[e._v("主分支，"),t("code",[e._v("master")]),e._v(" 分支。")]),e._v(" "),t("p",[t("code",[e._v("git checkout -b dev")]),e._v(" 创建并切换到 dev 分支。")]),e._v(" "),t("p",[e._v("相当于：")]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" branch dev\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout dev\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("切换到分支 "),t("code",[e._v("dev")]),e._v(" 然后提交修改后，切换分支将无法看到修改。")]),e._v(" "),t("p",[t("code",[e._v("git merge 分支名")]),e._v(" 合并分支。（默认Fast forward）。")]),e._v(" "),t("p",[t("code",[e._v('git merge --no-ff -m "提交信息" 分支名')]),e._v(" 不使用 Fast forward。")]),e._v(" "),t("p",[t("code",[e._v("git branch -d 分支名")]),e._v(" 删除分支。")]),e._v(" "),t("p",[t("code",[e._v("git push origin -d 分支名")]),e._v(" 删除远程分支。")]),e._v(" "),t("p",[e._v("git 鼓励使用分支完成某个任务，合并后删除分支。")]),e._v(" "),t("p",[e._v("合并分支后可能存在冲突，修改冲突后重新提交合并即完成。")]),e._v(" "),t("p",[e._v("git 使用 Fast forward 模式删除分支后会丢掉分支信息。")]),e._v(" "),t("p",[t("strong",[e._v("分支策略")])]),e._v(" "),t("p",[e._v("main 分支应该是稳定的，用来发布新版本，平时不在上面干活。")]),e._v(" "),t("p",[e._v("dev 分支用来开发。需要发布版本时，再把 dev 分支合并到 main 分支。")]),e._v(" "),t("p",[e._v("每个开发者都有自己的分支，基于 dev 分支开发。")]),e._v(" "),t("p",[t("code",[e._v("git stash")]),e._v(" 将未提交的修改（工作区的修改和暂存区的修改）暂时储藏起来。")]),e._v(" "),t("p",[t("code",[e._v("git stash pop")]),e._v(" 将之前储藏的修改取出来。")]),e._v(" "),t("p",[t("code",[e._v("git cherry-pick 4c805e2")]),e._v(" 复制一个特定的提交到当前分支。")]),e._v(" "),t("p",[e._v("修复 bug 时，会创建新的 bug 分支进行修复，然后合并，删除。")]),e._v(" "),t("p",[e._v("如果有工作未完成，可以保护现场，然后修复 bug，修复后，"),t("code",[e._v("git stash pop")]),e._v(" 回到工作\n现场。在其他分支修复的 bug，想要合并到 dev 分支，可通过\n"),t("code",[e._v("git cherry-pick <commit>")]),e._v(" 命令复制，避免重复劳动。")]),e._v(" "),t("p",[e._v("添加一个新功能，最好新建一个 feature 分支，完成后合并，最后删除分支。")]),e._v(" "),t("p",[e._v("删除一个未合并的分支，使用：")]),e._v(" "),t("p",[t("code",[e._v("git branch -D feature")]),e._v(" 强制删除 "),t("code",[e._v("feature")]),e._v(" 参数。")]),e._v(" "),t("p",[e._v("推送分支："),t("code",[e._v("git push origin dev")])]),e._v(" "),t("p",[e._v("main 分支是主分支，因此要时刻与远程同步。")]),e._v(" "),t("p",[e._v("dev 分支是开发分支，团队所有成员在上面工作，也需要与远程同步。")]),e._v(" "),t("p",[e._v("bug 分支只用于在本地修复 bug。")]),e._v(" "),t("p",[e._v("feature 分支是否推到远程，取决与是否需要合作。")]),e._v(" "),t("p",[e._v("抓取分支")]),e._v(" "),t("p",[t("code",[e._v("git clone git@github.com:xxx/xxx.git")]),e._v(" 只会抓取 main 分支。")]),e._v(" "),t("p",[t("code",[e._v("git checkout -b dev origin/dev")]),e._v(" 抓取远程 dev 分支。")]),e._v(" "),t("p",[e._v("多人协作的工作模式：")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("git push origin <分支>")]),e._v(",远程仓库同步到本地版本库，不会影响工作区。")]),e._v(" "),t("li",[e._v("推送失败，则合并,"),t("code",[e._v("git fetch")]),e._v("，"),t("code",[e._v("git merge")]),e._v("。")]),e._v(" "),t("li",[e._v("合并有冲突，则解决冲突，在本地提交。")]),e._v(" "),t("li",[e._v("解决冲突后 "),t("code",[e._v("git push origin <分支>")])]),e._v(" "),t("li",[e._v("如果本地分支和远程分支的链接关系没有建立，则 "),t("code",[e._v("git branch --set-upstream-to <分支> origin/<分支>")])])]),e._v(" "),t("p",[e._v("变基："),t("code",[e._v("git rebase")]),e._v(" 合并 commit 成直线。")]),e._v(" "),t("p",[e._v("创建标签："),t("code",[e._v("git lag v1.0")]),e._v(" 在当前分支打标签。")]),e._v(" "),t("p",[t("code",[e._v("git tag")]),e._v(" 查看所有标签。")]),e._v(" "),t("p",[t("code",[e._v("git tag v0.9 f52c633")]),e._v(" 对某次 commit 打标签。")]),e._v(" "),t("p",[t("code",[e._v('git tag -a v0.1 -m "xxx" 1094adb')]),e._v(" 创建带说明的标签。")]),e._v(" "),t("p",[t("code",[e._v("git show <tagname>")]),e._v(" 查看标签说明。")]),e._v(" "),t("p",[t("code",[e._v("git tag -d v0.1")]),e._v(" 删除标签。")]),e._v(" "),t("p",[e._v("创建的标签都只存储在本地，不会自动推送到远程。")]),e._v(" "),t("p",[t("code",[e._v("git remote show origin")]),e._v(" 查看 origin 地址。")]),e._v(" "),t("p",[t("code",[e._v("git push origin <tagname>")]),e._v(" 推送某个标签到远程。")]),e._v(" "),t("p",[t("code",[e._v("git push origin --tags")]),e._v(" 推送所有本地标签。")]),e._v(" "),t("p",[e._v("从远程删除标签:")]),e._v(" "),t("ol",[t("li",[e._v("从本地删除。")])]),e._v(" "),t("p",[t("code",[e._v("git tag -d v0.9")])]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("从远程删除。")])]),e._v(" "),t("p",[t("code",[e._v("git push origin :refs/tags/v0.9")])]),e._v(" "),t("p",[e._v("让 git 显示不同颜色："),t("code",[e._v("git config --global color.ui true")])]),e._v(" "),t("p",[e._v("修改 git 默认编辑器 "),t("code",[e._v("git config –global core.editor vim")])]),e._v(" "),t("p",[e._v("在Git工作区的根目录下创建一个特殊的.gitignore文件，\n然后把要忽略的文件名填进去，Git就会自动忽略这些文件。")]),e._v(" "),t("p",[t("code",[e._v("git check-ignore -v 文件名")])]),e._v(" "),t("p",[e._v("检查哪个规则忽略了文件。")]),e._v(" "),t("p",[e._v("指定文件排除在 "),t("code",[e._v(".gitignore")]),e._v(" 外：")]),e._v(" "),t("p",[t("code",[e._v("!main.o")])]),e._v(" "),t("p",[t("code",[e._v("c.gitignore")]),e._v(" 文件示例：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(".*\n!.gitignore\n# Prerequisites\n*.d\n\n# Object files\n*.o\n*.ko\n*.obj\n*.elf\n\n# Linker output\n*.ilk\n*.map\n*.exp\n\n# Precompiled Headers\n*.gch\n*.pch\n\n# Libraries\n*.lib\n*.a\n*.la\n*.lo\n\n# Shared objects (inc. Windows DLLs)\n*.dll\n*.so\n*.so.*\n*.dylib\n\n# Executables\n*.exe\n*.out\n*.app\n*.i*86\n*.x86_64\n*.hex\n\n# Debug files\n*.dSYM/\n*.su\n*.idb\n*.pdb\n\n# Kernel Module Compile Results\n*.mod*\n*.cmd\n.tmp_versions/\nmodules.order\nModule.symvers\nMkfile.old\ndkms.conf\n\n**/bin/*\n*.*~\nobj/\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br"),t("span",{staticClass:"line-number"},[e._v("20")]),t("br"),t("span",{staticClass:"line-number"},[e._v("21")]),t("br"),t("span",{staticClass:"line-number"},[e._v("22")]),t("br"),t("span",{staticClass:"line-number"},[e._v("23")]),t("br"),t("span",{staticClass:"line-number"},[e._v("24")]),t("br"),t("span",{staticClass:"line-number"},[e._v("25")]),t("br"),t("span",{staticClass:"line-number"},[e._v("26")]),t("br"),t("span",{staticClass:"line-number"},[e._v("27")]),t("br"),t("span",{staticClass:"line-number"},[e._v("28")]),t("br"),t("span",{staticClass:"line-number"},[e._v("29")]),t("br"),t("span",{staticClass:"line-number"},[e._v("30")]),t("br"),t("span",{staticClass:"line-number"},[e._v("31")]),t("br"),t("span",{staticClass:"line-number"},[e._v("32")]),t("br"),t("span",{staticClass:"line-number"},[e._v("33")]),t("br"),t("span",{staticClass:"line-number"},[e._v("34")]),t("br"),t("span",{staticClass:"line-number"},[e._v("35")]),t("br"),t("span",{staticClass:"line-number"},[e._v("36")]),t("br"),t("span",{staticClass:"line-number"},[e._v("37")]),t("br"),t("span",{staticClass:"line-number"},[e._v("38")]),t("br"),t("span",{staticClass:"line-number"},[e._v("39")]),t("br"),t("span",{staticClass:"line-number"},[e._v("40")]),t("br"),t("span",{staticClass:"line-number"},[e._v("41")]),t("br"),t("span",{staticClass:"line-number"},[e._v("42")]),t("br"),t("span",{staticClass:"line-number"},[e._v("43")]),t("br"),t("span",{staticClass:"line-number"},[e._v("44")]),t("br"),t("span",{staticClass:"line-number"},[e._v("45")]),t("br"),t("span",{staticClass:"line-number"},[e._v("46")]),t("br"),t("span",{staticClass:"line-number"},[e._v("47")]),t("br"),t("span",{staticClass:"line-number"},[e._v("48")]),t("br"),t("span",{staticClass:"line-number"},[e._v("49")]),t("br"),t("span",{staticClass:"line-number"},[e._v("50")]),t("br"),t("span",{staticClass:"line-number"},[e._v("51")]),t("br"),t("span",{staticClass:"line-number"},[e._v("52")]),t("br"),t("span",{staticClass:"line-number"},[e._v("53")]),t("br"),t("span",{staticClass:"line-number"},[e._v("54")]),t("br"),t("span",{staticClass:"line-number"},[e._v("55")]),t("br"),t("span",{staticClass:"line-number"},[e._v("56")]),t("br"),t("span",{staticClass:"line-number"},[e._v("57")]),t("br"),t("span",{staticClass:"line-number"},[e._v("58")]),t("br")])]),t("p",[e._v("搭建 git 服务器：")]),e._v(" "),t("ol",[t("li",[e._v("安装 git。")]),e._v(" "),t("li",[e._v("创建 git 用户，运行 git 服务。")]),e._v(" "),t("li",[e._v("创建证书登录。")]),e._v(" "),t("li",[e._v("初始化 git 仓库。")]),e._v(" "),t("li",[e._v("禁用 shell 登录。")]),e._v(" "),t("li",[e._v("克隆远程库。")])]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" adduser "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 把所有要登陆的用户的公钥，即 id_rsa.pub 文件，导入到")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# /home/git/.ssh/authorized_keys 文件里，一行一个。")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 选定一个目录作为 git 仓库，如 /srv/sample.git")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 在 /srv 目录下执行命令：")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 创建裸仓库，没有工作区")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" init "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--bare")]),e._v(" sample.git\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 服务器上的 git 仓库通常以 .git 结尾，把 owner 改为 git")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-R")]),e._v(" git:git sample.git\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 编辑 /etc/passwd 禁用 shell 登录")]),e._v("\ngit:x:1001:1001:,,,:/home/git:/bin/bash\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 改为：")]),e._v("\ngit:x:1001:1001:,,,:/home/git:/usr/bin/git-shell\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# git-shell 每次一登陆就自动退出。")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 克隆远程仓库：")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone git@server:/srv/sample.git\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br"),t("span",{staticClass:"line-number"},[e._v("16")]),t("br"),t("span",{staticClass:"line-number"},[e._v("17")]),t("br"),t("span",{staticClass:"line-number"},[e._v("18")]),t("br"),t("span",{staticClass:"line-number"},[e._v("19")]),t("br")])]),t("p",[e._v("合并一个或者多个提交到另一个分支:")]),e._v(" "),t("p",[t("code",[e._v("git cherry-pick 82ecb31")]),e._v(" 合并指定提交到当前分支。")]),e._v(" "),t("p",[e._v("例如需要合并 dev 分支上的 commit1 ~ commit4 到 main")]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 1 基于dev分支创建一个新的分支，并指定最后的commit_id：")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" newbranch commit_id4\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# git rebase 这个新分支的 commit 到main（--onto）。")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" rebase "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--onto")]),e._v(" main commit1^\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])]),t("p",[e._v("Git 追踪文件是根据文件名来的，所以更改文件名需要使用命令：")]),e._v(" "),t("p",[t("code",[e._v("git mv -v")]),e._v(" 文件重命名，并显示信息。")]),e._v(" "),t("h3",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/896043488029600",target:"_blank",rel:"noopener noreferrer"}},[e._v("廖雪峰 git 教程"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.runoob.com/git/git-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("菜鸟教程"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.runoob.com/manual/git-guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("git 简明指南"),t("OutboundLink")],1)])])])])}),[],!1,null,null,null);s.default=n.exports}}]);
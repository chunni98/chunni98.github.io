(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{353:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-commit-规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-commit-规范"}},[s._v("#")]),s._v(" 1 commit 规范")]),s._v(" "),t("h3",{attrs:{id:"_1-1-规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-规范"}},[s._v("#")]),s._v(" 1.1 规范")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<type>(<scope>): <subject>\n\n<body>\n\n<footer>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("Header 是必需的， Body 和 Footer 是默认忽略的。")]),s._v(" "),t("p",[t("strong",[s._v("type（必须）")])]),s._v(" "),t("p",[s._v("用于说明 commit 的类别。")]),s._v(" "),t("ul",[t("li",[s._v("feat：一个新功能。")]),s._v(" "),t("li",[s._v("fix：修复 bug。")]),s._v(" "),t("li",[s._v("docs：修改文档。")]),s._v(" "),t("li",[s._v("style：修改格式（不影响代码运行）。")]),s._v(" "),t("li",[s._v("refactor： 重构。")]),s._v(" "),t("li",[s._v("test：测试。")]),s._v(" "),t("li",[s._v("chore：非 src 路径文件和测试文件的修改，如 .gitignore，.editconfig 等。")]),s._v(" "),t("li",[s._v("revert: 代码回退")])]),s._v(" "),t("p",[s._v("type 为 feat 或 fix 则该 commit 肯定出现在 change log 中。")]),s._v(" "),t("p",[s._v("scope：用于说明 commit 影响的范围。")]),s._v(" "),t("p",[s._v("subject 是 commit 的简短描述。建议以动词开头。不加句号。")]),s._v(" "),t("p",[t("strong",[s._v("Body")])]),s._v(" "),t("p",[s._v("Body 部分是对本次 commit 的详细描述。")]),s._v(" "),t("p",[t("strong",[s._v("Footer")])]),s._v(" "),t("p",[s._v("只用于两种情况：")]),s._v(" "),t("ul",[t("li",[s._v("不兼容变动，以 BREAKING CHANGE: 开头，后面是对变动的描述以及变动理由和迁移方法。")]),s._v(" "),t("li",[s._v("处理 issue。")])]),s._v(" "),t("p",[s._v("处理 issue 格式：")]),s._v(" "),t("p",[s._v("本次提交与某个 issue 有关系：")]),s._v(" "),t("p",[t("code",[s._v("issue #1,#2,#3")])]),s._v(" "),t("p",[s._v("当前提交信息解决了某个 issue：")]),s._v(" "),t("p",[t("code",[s._v("close #1,#2,#3")])]),s._v(" "),t("p",[t("strong",[s._v("Issue")])]),s._v(" "),t("p",[s._v("Github 的 issue 功能是一个轻量级的协作系统。")]),s._v(" "),t("p",[s._v("issue 可以有额外的属性：")]),s._v(" "),t("ul",[t("li",[s._v("labels，标签，表示 issue 的类型，解决的方式。")]),s._v(" "),t("li",[s._v("Milestone，里程碑。作为 issue 的一个集合，如 demo，release 等。通常用来表示项目的一个阶段。")]),s._v(" "),t("li",[s._v("Assignee，负责人。这个 issue 由谁负责。")])]),s._v(" "),t("p",[t("strong",[s._v("Projects")])]),s._v(" "),t("p",[s._v("Github 的项目管理系统，可以创建 kanban、todolist等。")]),s._v(" "),t("h3",{attrs:{id:"_1-2-准则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-准则"}},[s._v("#")]),s._v(" 1.2 准则")]),s._v(" "),t("ol",[t("li",[s._v("除了源码相关的内容，其他 build 产生的东西，均不能进入源码仓库，添加到 "),t("code",[s._v(".gitingore")]),s._v(" 忽略掉。")]),s._v(" "),t("li",[s._v("撰写规范的提交说明。")]),s._v(" "),t("li",[s._v("严格按照流程切换指定分支工作。")])]),s._v(" "),t("h2",{attrs:{id:"_2-gitlab-flow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-gitlab-flow"}},[s._v("#")]),s._v(" 2 gitlab flow")]),s._v(" "),t("p",[s._v("GitLab 工作流结合了特性驱动开发和特性分支，并且包含了议题追踪。")]),s._v(" "),t("p",[s._v("Git flow 对于大部分使用场景来说太复杂了，github flow 只适用于持续发布的场景。")]),s._v(" "),t("p",[s._v("gitlab flow是 Git flow 与 Github flow 的综合。它吸取了两者的优点，既有适应不同开发环境的弹性，又有单一主分支的简单和便利。")]),s._v(" "),t("p",[s._v('Gitlab flow 的最大原则叫做"上游优先"（upsteam first），即只存在一个主分支master，它是所有其他分支的"上游"。只有上游分支采纳的代码变化，才能应用到其他分支。')]),s._v(" "),t("h3",{attrs:{id:"_2-1-持续发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-持续发布"}},[s._v("#")]),s._v(" 2.1 持续发布")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ruanyifeng.com/blogimg/asset/2015/bg2015122306.png",alt:""}})]),s._v(" "),t("p",[s._v('对于"持续发布"的项目，它建议在master分支以外，再建立不同的环境分支。比如，"开发环境"的分支是master，"预发环境"的分支是pre-production，"生产环境"的分支是production。')]),s._v(" "),t("p",[s._v('开发分支是预发分支的"上游"，预发分支又是生产分支的"上游"。代码的变化，必须由"上游"向"下游"发展。比如，生产环境出现了bug，这时就要新建一个功能分支，先把它合并到master，确认没有问题，再cherry-pick到pre-production，这一步也没有问题，才进入production。')]),s._v(" "),t("h3",{attrs:{id:"_2-2-版本发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-版本发布"}},[s._v("#")]),s._v(" 2.2 版本发布")]),s._v(" "),t("p",[s._v("只有在需要向外界发布软件时才应该使用发布分支。 在这种情况下，每个分支都包含一个次要版本，例如 2.3-stable 或 2.4-stable：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.ruanyifeng.com/blogimg/asset/2015/bg2015122307.png",alt:""}})]),s._v(" "),t("p",[s._v("从 main 创建一个 stable 分支作为起点，并且这个分支尽可能的新。 这样，您能减少后续不得不将漏洞修复代码部署到多个分支的情况。声明了一个发布分支后，这个分支只会合并严重的漏洞修复更新。 尽可能先将漏洞修复的更新合并到 main，然后拣选（cherry-pick）到发布分支。")]),s._v(" "),t("p",[s._v("每次您将漏洞修复包含到一个 release 分支，通过设置新的标签的方式提升补丁（patch）版本,在这个工作流里，不推荐使用生产分支。")]),s._v(" "),t("h3",{attrs:{id:"_2-3-issue-追踪"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-issue-追踪"}},[s._v("#")]),s._v(" 2.3 issue 追踪")]),s._v(" "),t("p",[s._v("任何重大的代码变更需要由一个阐明目的的议题发起。 每个代码变更都有原因，可以帮助团队其他成员了解变更，并且保持特性分支的变更覆盖范围比较小。")]),s._v(" "),t("p",[s._v("当您准备好去编写代码时，从 main 分支为这个议题创建一个分支。这个分支就是接下来做与之相关的变更的地方。")]),s._v(" "),t("p",[s._v("feature 分支命名规范："),t("code",[s._v("feature-x")]),s._v("。")]),s._v(" "),t("p",[s._v("完成代码编写后，推送分支到远程，创建一个 PR。")]),s._v(" "),t("p",[s._v("PR 合并策略是非快进合并。 在合并之后，删除对应的特性分支。")]),s._v(" "),t("h3",{attrs:{id:"_2-4-rebase-聚合多个提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-rebase-聚合多个提交"}},[s._v("#")]),s._v(" 2.4 rebase 聚合多个提交")]),s._v(" "),t("p",[s._v("PR 之前，尽量将多个提交合并成一个，如果有其他贡献者在同一个分支工作，您应当避免对推送到远程仓库的提交进行 rebase。")]),s._v(" "),t("p",[s._v("使用 rebase -i 选择多个提交聚合成一个。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pick c6ee4d3 add a new file to the repo\npick c3c130b change readme\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果在创建特性分支后，您需要采用一些 main 中采纳的新的代码，通常可以通过拣选（cherry-pick）一个提交来解决这个问题。")]),s._v(" "),t("h2",{attrs:{id:"_3-实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-实践"}},[s._v("#")]),s._v(" 3 实践")]),s._v(" "),t("h3",{attrs:{id:"_3-1-创建远程仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建远程仓库"}},[s._v("#")]),s._v(" 3.1 创建远程仓库")]),s._v(" "),t("p",[s._v("在 gitee 上创建："),t("code",[s._v("git@gitee.com:guokzhao/gitlab-flow.git")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"_3-2-创建本地库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-创建本地库"}},[s._v("#")]),s._v(" 3.2 创建本地库")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v(" main\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin git@gitee.com:guokzhao/gitlab-flow.git\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" README.md\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docs: 第一次提交"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin main\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_3-2-创建-issue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-创建-issue"}},[s._v("#")]),s._v(" 3.2 创建 issue")]),s._v(" "),t("p",[s._v("创建 issue：打印 hello，world 两次。链接为："),t("code",[s._v("I6UNPC")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"_3-3-创建分支并推送到远程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-创建分支并推送到远程"}},[s._v("#")]),s._v(" 3.3 创建分支并推送到远程")]),s._v(" "),t("p",[t("code",[s._v("git checkout -b feature-01")])]),s._v(" "),t("p",[t("code",[s._v("git push origin feature-01")])]),s._v(" "),t("h3",{attrs:{id:"_3-4-创建文件-main-c"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-创建文件-main-c"}},[s._v("#")]),s._v(" 3.4 创建文件 main.c")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v('"hello'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("world"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"_3-5-提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-提交"}},[s._v("#")]),s._v(" 3.5 提交")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" main.c\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("commit 信息：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("feat: 添加 a.c ，打印 hello，world\n\nIssue #I6UNPC\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_3-6-添加代码再次提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-添加代码再次提交"}},[s._v("#")]),s._v(" 3.6 添加代码再次提交")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v('"hello'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("world"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v('"hello'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("world"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" main.c\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("commit 信息：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("feat: 再打印一行 hello，world\n\nclose #I6UNPC\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_3-7-合并-commit-后-push-并-pull-request"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-合并-commit-后-push-并-pull-request"}},[s._v("#")]),s._v(" 3.7 合并 commit 后 push 并 pull request")]),s._v(" "),t("p",[s._v("现在 issue I6UNPC 的任务完成，推送到远程并发起 PR。")]),s._v(" "),t("p",[t("code",[s._v("git rebase -i HEAD~2")])]),s._v(" "),t("p",[s._v("此时交互式合并提交：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pick 703b323 feat: 添加 a.c ，打印 hello，world\ns 6246c20 feat: 再打印一行 hello world\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Rebase 09adccb..6246c20 onto 09adccb (2 commands)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Commands:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# p, pick <commit> = use commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# r, reword <commit> = use commit, but edit the commit message")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# e, edit <commit> = use commit, but stop for amending")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# s, squash <commit> = use commit, but meld into previous commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# f, fixup [-C | -c] <commit> = like "squash" but keep only the previous')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                    commit's log message, unless -C is used, in which case")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                    keep only this commit's message; -c is same as -C but")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                    opens the editor")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# x, exec <command> = run command (the rest of the line) using shell")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# b, break = stop here (continue rebase later with 'git rebase --continue')")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# d, drop <commit> = remove commit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# l, label <label> = label current HEAD with a name")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# t, reset <label> = reset HEAD to a label")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#         create a merge commit using the original merge commit's")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#         message (or the oneline, if no original merge commit was")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#         specified); use -c <commit> to reword the commit message")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# u, update-ref <ref> = track a placeholder for the <ref> to be updated")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                       to this position in the new commits. The <ref> is")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                       updated at the end of the rebase")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# These lines can be re-ordered; they are executed from top to bottom.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# If you remove a line here THAT COMMIT WILL BE LOST.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# However, if you remove everything, the rebase will be aborted.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("p",[s._v("其中 s 表示合并到前一个提交。")]),s._v(" "),t("p",[t("code",[s._v("git push origin feature-01")])]),s._v(" "),t("p",[s._v("在 github 发起 PR。")]),s._v(" "),t("h3",{attrs:{id:"_3-8-审查代码并接受-pr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-审查代码并接受-pr"}},[s._v("#")]),s._v(" 3.8 审查代码并接受 PR")]),s._v(" "),t("p",[s._v("审核 PR 并测试，然后通过 PR，关闭 issue 和 feature 分支。")]),s._v(" "),t("h3",{attrs:{id:"_3-9-本地更新-main-分支并删除-feature-分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-本地更新-main-分支并删除-feature-分支"}},[s._v("#")]),s._v(" 3.9 本地更新 main 分支并删除 feature 分支")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout main\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch origin main\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" merge origin/main\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除本地的远程追踪分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" feature-01\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--remote")]),s._v(" origin/feature-01\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者本地删除远程分支")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" feature-01\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"杂项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#杂项"}},[s._v("#")]),s._v(" 杂项")]),s._v(" "),t("p",[s._v("本地开发分支拉取远程开发分支用 rebase，开发分支合并主干分支的时候用 rebase，主干分支合并开发分支用 merge --no-ff，开发分支 push 前先同步代码，然后合并多次提交为一个，然后 push。")]),s._v(" "),t("p",[s._v("拉取主线，合并分支："),t("code",[s._v("git fetch")]),s._v(" "),t("code",[s._v("get rebase")]),s._v("。")]),s._v(" "),t("p",[s._v("主线合并支线分支："),t("code",[s._v("git merge --no-ff")]),s._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);
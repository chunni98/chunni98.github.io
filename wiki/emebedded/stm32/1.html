<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>stm32（一） | CS Wiki</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="shachi 的 CS 知识库">
    
    <link rel="preload" href="/wiki/assets/css/0.styles.862c0c3f.css" as="style"><link rel="preload" href="/wiki/assets/js/app.de2655f3.js" as="script"><link rel="preload" href="/wiki/assets/js/2.4c1f2b65.js" as="script"><link rel="preload" href="/wiki/assets/js/1.17342216.js" as="script"><link rel="preload" href="/wiki/assets/js/63.7e64d063.js" as="script"><link rel="prefetch" href="/wiki/assets/js/10.035ca0c6.js"><link rel="prefetch" href="/wiki/assets/js/11.61c41baf.js"><link rel="prefetch" href="/wiki/assets/js/12.c09e43e4.js"><link rel="prefetch" href="/wiki/assets/js/13.9aea239e.js"><link rel="prefetch" href="/wiki/assets/js/14.3dce9847.js"><link rel="prefetch" href="/wiki/assets/js/15.552cfc0e.js"><link rel="prefetch" href="/wiki/assets/js/16.fbc6724b.js"><link rel="prefetch" href="/wiki/assets/js/17.65824f71.js"><link rel="prefetch" href="/wiki/assets/js/18.baeb50d2.js"><link rel="prefetch" href="/wiki/assets/js/19.c26a7c60.js"><link rel="prefetch" href="/wiki/assets/js/20.59cd5836.js"><link rel="prefetch" href="/wiki/assets/js/21.fed94bf9.js"><link rel="prefetch" href="/wiki/assets/js/22.899345c1.js"><link rel="prefetch" href="/wiki/assets/js/23.1a586d6a.js"><link rel="prefetch" href="/wiki/assets/js/24.217b8798.js"><link rel="prefetch" href="/wiki/assets/js/25.e4496d20.js"><link rel="prefetch" href="/wiki/assets/js/26.7f61859e.js"><link rel="prefetch" href="/wiki/assets/js/27.8ad5c2e4.js"><link rel="prefetch" href="/wiki/assets/js/28.b8ba1418.js"><link rel="prefetch" href="/wiki/assets/js/29.60f46be1.js"><link rel="prefetch" href="/wiki/assets/js/3.45c1528d.js"><link rel="prefetch" href="/wiki/assets/js/30.da5b1342.js"><link rel="prefetch" href="/wiki/assets/js/31.50b7b033.js"><link rel="prefetch" href="/wiki/assets/js/32.2c667e3f.js"><link rel="prefetch" href="/wiki/assets/js/33.41ee0231.js"><link rel="prefetch" href="/wiki/assets/js/34.5f05cbec.js"><link rel="prefetch" href="/wiki/assets/js/35.b44edef7.js"><link rel="prefetch" href="/wiki/assets/js/36.a0e1e1eb.js"><link rel="prefetch" href="/wiki/assets/js/37.bd66e711.js"><link rel="prefetch" href="/wiki/assets/js/38.705568c8.js"><link rel="prefetch" href="/wiki/assets/js/39.c3c282ce.js"><link rel="prefetch" href="/wiki/assets/js/4.8d42542a.js"><link rel="prefetch" href="/wiki/assets/js/40.6a2ae8cf.js"><link rel="prefetch" href="/wiki/assets/js/41.83f5ab95.js"><link rel="prefetch" href="/wiki/assets/js/42.b89be9c0.js"><link rel="prefetch" href="/wiki/assets/js/43.a600663c.js"><link rel="prefetch" href="/wiki/assets/js/44.58daa1af.js"><link rel="prefetch" href="/wiki/assets/js/45.ffe0acc1.js"><link rel="prefetch" href="/wiki/assets/js/46.f63ccdaa.js"><link rel="prefetch" href="/wiki/assets/js/47.aea879ba.js"><link rel="prefetch" href="/wiki/assets/js/48.5101bf60.js"><link rel="prefetch" href="/wiki/assets/js/49.1060a6ff.js"><link rel="prefetch" href="/wiki/assets/js/5.fedc5121.js"><link rel="prefetch" href="/wiki/assets/js/50.b44d9fc6.js"><link rel="prefetch" href="/wiki/assets/js/51.6ad9df01.js"><link rel="prefetch" href="/wiki/assets/js/52.08ca345a.js"><link rel="prefetch" href="/wiki/assets/js/53.f4e858c4.js"><link rel="prefetch" href="/wiki/assets/js/54.341444be.js"><link rel="prefetch" href="/wiki/assets/js/55.1854efe1.js"><link rel="prefetch" href="/wiki/assets/js/56.8d26d38c.js"><link rel="prefetch" href="/wiki/assets/js/57.e7b25e18.js"><link rel="prefetch" href="/wiki/assets/js/58.e486b95c.js"><link rel="prefetch" href="/wiki/assets/js/59.51efece6.js"><link rel="prefetch" href="/wiki/assets/js/6.e52f5453.js"><link rel="prefetch" href="/wiki/assets/js/60.29d9850b.js"><link rel="prefetch" href="/wiki/assets/js/61.79e8e884.js"><link rel="prefetch" href="/wiki/assets/js/62.ced20fbb.js"><link rel="prefetch" href="/wiki/assets/js/64.e53f3156.js"><link rel="prefetch" href="/wiki/assets/js/65.1f80ced7.js"><link rel="prefetch" href="/wiki/assets/js/66.3d2b257b.js"><link rel="prefetch" href="/wiki/assets/js/67.843f5808.js"><link rel="prefetch" href="/wiki/assets/js/68.8a093e3a.js"><link rel="prefetch" href="/wiki/assets/js/69.beb01e1e.js"><link rel="prefetch" href="/wiki/assets/js/7.b775b056.js"><link rel="prefetch" href="/wiki/assets/js/70.6c139ea2.js"><link rel="prefetch" href="/wiki/assets/js/71.a4680730.js"><link rel="prefetch" href="/wiki/assets/js/72.d95b4221.js"><link rel="prefetch" href="/wiki/assets/js/73.d2b7055d.js"><link rel="prefetch" href="/wiki/assets/js/74.6b2744b3.js"><link rel="prefetch" href="/wiki/assets/js/75.8063a115.js"><link rel="prefetch" href="/wiki/assets/js/76.2cbe0125.js"><link rel="prefetch" href="/wiki/assets/js/77.cbe849c9.js"><link rel="prefetch" href="/wiki/assets/js/78.5fca6848.js"><link rel="prefetch" href="/wiki/assets/js/79.3bb3e405.js"><link rel="prefetch" href="/wiki/assets/js/80.68c462b6.js"><link rel="prefetch" href="/wiki/assets/js/81.2575d9cb.js"><link rel="prefetch" href="/wiki/assets/js/vendors~docsearch.b7a3ab4f.js">
    <link rel="stylesheet" href="/wiki/assets/css/0.styles.862c0c3f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wiki/" class="home-link router-link-active"><img src="/wiki/favicon.ico" alt="CS Wiki" class="logo"> <span class="site-name can-hide">CS Wiki</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wiki/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/archives/" class="nav-link">
  归档
</a></div><div class="nav-item"><a href="/wiki/c/" class="nav-link">
  C
</a></div><div class="nav-item"><a href="/wiki/cpp/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="/wiki/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wiki/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  操作系统
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  数据库
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  编译原理
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wiki/tools/vim.html" class="nav-link">
  Vim
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/Makefile.html" class="nav-link">
  Makefile
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/shell.html" class="nav-link">
  shell
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/git.html" class="nav-link">
  git
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/gdb.html" class="nav-link">
  gdb
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/CMake.html" class="nav-link">
  CMake
</a></li><li class="dropdown-subitem"><a href="https://github.com/chunni98/learn-python-with-lxf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/wiki/tools/main.html" class="nav-link">
  main
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="嵌入式" class="dropdown-title"><span class="title">嵌入式</span> <span class="arrow down"></span></button> <button type="button" aria-label="嵌入式" class="mobile-dropdown-title"><span class="title">嵌入式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wiki/" class="nav-link">
  x86汇编
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/sqlite3.html" class="nav-link">
  sqlite3
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/stm32/" class="nav-link router-link-active">
  stm32
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/collections.html" class="nav-link">
  问题集
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/learn-arm.html" class="nav-link">
  ARM 体系结构
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/driver/" class="nav-link">
  Linux 内核驱动
</a></li></ul></div></div><div class="nav-item"><a href="https://chunni98.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wiki/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/wiki/archives/" class="nav-link">
  归档
</a></div><div class="nav-item"><a href="/wiki/c/" class="nav-link">
  C
</a></div><div class="nav-item"><a href="/wiki/cpp/" class="nav-link">
  C++
</a></div><div class="nav-item"><a href="/wiki/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机基础" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          理论
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wiki/data-structure/" class="nav-link">
  数据结构
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  计算机组成原理
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  操作系统
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  数据库
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  编译原理
</a></li></ul></li><li class="dropdown-item"><h4>
          工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/wiki/tools/vim.html" class="nav-link">
  Vim
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/Makefile.html" class="nav-link">
  Makefile
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/shell.html" class="nav-link">
  shell
</a></li><li class="dropdown-subitem"><a href="/wiki/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/git.html" class="nav-link">
  git
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/gdb.html" class="nav-link">
  gdb
</a></li><li class="dropdown-subitem"><a href="/wiki/tools/CMake.html" class="nav-link">
  CMake
</a></li><li class="dropdown-subitem"><a href="https://github.com/chunni98/learn-python-with-lxf" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Python3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/wiki/tools/main.html" class="nav-link">
  main
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="嵌入式" class="dropdown-title"><span class="title">嵌入式</span> <span class="arrow down"></span></button> <button type="button" aria-label="嵌入式" class="mobile-dropdown-title"><span class="title">嵌入式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/wiki/" class="nav-link">
  x86汇编
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/sqlite3.html" class="nav-link">
  sqlite3
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/stm32/" class="nav-link router-link-active">
  stm32
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/collections.html" class="nav-link">
  问题集
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/learn-arm.html" class="nav-link">
  ARM 体系结构
</a></li><li class="dropdown-item"><!----> <a href="/wiki/emebedded/driver/" class="nav-link">
  Linux 内核驱动
</a></li></ul></div></div><div class="nav-item"><a href="https://chunni98.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/wiki/emebedded/stm32/" aria-current="page" class="sidebar-link">stm32 学习</a></li><li><a href="/wiki/emebedded/stm32/jxkj.html" class="sidebar-link">stm32 江科大自动协教程笔记</a></li><li><a href="/wiki/emebedded/stm32/1.html" aria-current="page" class="active sidebar-link">stm32（一）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_1-单片机简介" class="sidebar-link">1 单片机简介</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_2-cortex-m-系列介绍" class="sidebar-link">2 Cortex-M 系列介绍</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_3-stm32-是什么" class="sidebar-link">3 STM32 是什么</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_4-数据手册" class="sidebar-link">4 数据手册</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_5-最小系统和-i-o-分配" class="sidebar-link">5 最小系统和 I/O 分配</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_6-搭建开发环境" class="sidebar-link">6 搭建开发环境</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_7-mdk-编译例程" class="sidebar-link">7 MDK 编译例程</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_8-jtag-swd-调试" class="sidebar-link">8 JTAG/SWD 调试</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_9-keil-设置" class="sidebar-link">9 keil 设置</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_10-c-语言基础" class="sidebar-link">10 C 语言基础</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_11-stm32-基础知识" class="sidebar-link">11 stm32 基础知识</a></li><li class="sidebar-sub-header"><a href="/wiki/emebedded/stm32/1.html#_12-新建寄存器版本-mdk-工程" class="sidebar-link">12 新建寄存器版本 MDK 工程</a></li></ul></li><li><a href="/wiki/emebedded/stm32/2.html" class="sidebar-link">FreeRTOS</a></li><li><a href="/wiki/emebedded/stm32/stdlib.html" class="sidebar-link">stm32 标准固件库</a></li><li><a href="/wiki/emebedded/stm32/fs.html" class="sidebar-link">fs stm32（一）</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-单片机简介"><a href="#_1-单片机简介" class="header-anchor">#</a> 1 单片机简介</h2> <h3 id="单片机是什么"><a href="#单片机是什么" class="header-anchor">#</a> 单片机是什么</h3> <p><strong>1. 单片机与电脑对比</strong></p> <p>Single-Chip Microcomputer，单片微型计算机，是一种集成电路芯片。</p> <p>电脑与单片机 STM32F1 对比</p> <table><thead><tr><th style="text-align:center;">对比项</th> <th style="text-align:center;">电脑</th> <th style="text-align:center;">单片机</th></tr></thead> <tbody><tr><td style="text-align:center;">CPU 主频</td> <td style="text-align:center;">x86，2~5Ghz</td> <td style="text-align:center;">51/arm/risc-v, 72MHz@STM32F1</td></tr> <tr><td style="text-align:center;">内存</td> <td style="text-align:center;">GB级，40G/s</td> <td style="text-align:center;">kb级 约300Mb/s</td></tr> <tr><td style="text-align:center;">硬盘容量</td> <td style="text-align:center;">TB级 500Mb/s @SATA3</td> <td style="text-align:center;">kb级 约 100Mb/s</td></tr> <tr><td style="text-align:center;">功耗</td> <td style="text-align:center;">数百 w</td> <td style="text-align:center;">&lt; 0.5W</td></tr></tbody></table> <p>64 位电脑，每次访问 8 位，64 / 8 = 8（字节）, 访存速度 8 * 5 = 40 Gb/s。</p> <p><strong>2. 单片机特点</strong></p> <ol><li>体积小</li> <li>功耗低</li> <li>集成度高</li> <li>使用方便</li> <li>扩展灵活</li></ol> <p><strong>3. 单片机作用</strong></p> <ol><li>仪器仪表</li> <li>家用电器</li> <li>工业控制</li> <li>汽车电子</li></ol> <p><strong>4. 单片机发展历程</strong></p> <p>SCM 单片微型计算机 -&gt; MCU 微控制器 -&gt; SoC 嵌入式片上系统。</p> <p><strong>5. 单片机发展趋势</strong></p> <p>CPU：主频高，64位，双 CPU，流水线</p> <p>存储器：Mb 级，片内 ROM FLash 化，程序加密化</p> <p>IO：提高并行口驱动能力，增加 I/O功能</p> <p>外围电路内置化：高集成度，DMA/DA等集成到片内。</p> <p><strong>6. CISC VS RISC</strong></p> <p>复杂指令集便于编程和提高存储器访问效率，如 8051，x86架构。</p> <ol><li>指令多，模式多，格式可变。</li> <li>指令执行需要的时钟周期差距大。</li> <li>无流水线或者流水程度低。</li> <li>指令由微代码翻译执行。</li></ol> <p>精简指令集能提高处理器运行速度，如 ARM/MIPS/RISC-V。</p> <ol><li>指令少，模式少，格式固定。</li> <li>大多数指令只需要一个时钟周期。</li> <li>流水线结构。</li> <li>指令直接由硬件执行。</li></ol> <p><strong>7. 冯诺依曼结构和哈佛结构</strong></p> <p>冯诺依曼结构：</p> <p>冯·诺依曼结构（von Neumann architecture）又称作普林斯顿体系结构（Princetion architecture）。冯·诺依曼结构的处理器使用同一个存储器，经由同一个总线传输。</p> <p>是一种<strong>将程序指令存储器和数据存储器合并在一起</strong>的计算机设计概念结构。</p> <p>指令和数据统一编址，使用同一条总线传输。</p> <ol><li>必须有一个存储器。</li> <li>必须有一个控制器。</li> <li>必须有一个运算器，用于完成算术运算和逻辑运算。</li> <li>必须有输入和输出设备，用于进行人机通信。</li></ol> <p>哈佛结构：</p> <p>中央处理器首先到程序指令储存器中读取程序指令内容，解码后得到数据地址，再到相应的数据储存器中读取数据，并进行下一步的操作（通常是执行）。程序指令储存和数据储存分开，数据和指令的储存可以同时进行，<strong>可以使指令和数据有不同的数据宽度</strong>。</p> <p>哈佛结构的微处理器通常具有较高的执行效率。其程序指令和数据指令分开组织和储存的，<strong>执行时可以预先读取下一条指令</strong>。</p> <p>利弊：</p> <p>冯诺依曼结构主要用于通用计算机领域，需要对存储器中的代码和数据频繁的进行修改，统一编址有利于节约资源。</p> <p>哈佛结构主要用于嵌入式计算机，程序固化在硬件中，有较高的可靠性、运算速度和较大的吞吐量。</p> <h2 id="_2-cortex-m-系列介绍"><a href="#_2-cortex-m-系列介绍" class="header-anchor">#</a> 2 Cortex-M 系列介绍</h2> <h3 id="_2-1-arm-公司"><a href="#_2-1-arm-公司" class="header-anchor">#</a> 2.1 ARM 公司</h3> <p>只做内核设计与 IP 授权，不参与芯片设计。</p> <ol><li>低功耗、低成本、高性能。</li> <li>支持 16 位/32 位双指令集。</li></ol> <h3 id="_2-2-coterx-内核分类及特征"><a href="#_2-2-coterx-内核分类及特征" class="header-anchor">#</a> 2.2 Coterx 内核分类及特征</h3> <table><thead><tr><th>对比项</th> <th>Cortex-A</th> <th>Cortex-R</th> <th>Cortex-M</th></tr></thead> <tbody><tr><td>特点</td> <td>高时钟频率，长流水线、高性能</td> <td>较高时钟频率，较长流水线 实时性强</td> <td>始终频率低，流水线短，超级功耗</td></tr> <tr><td>应用场景</td> <td>移动计算、智能手机、平板电脑、数字电视</td> <td>军工、汽车电子、无线基带</td> <td>工控、传感器、消费电子、家用电器、医疗器械</td></tr></tbody></table> <p>Cortex-M3/4/7 介绍</p> <p><img src="/wiki/stm32/1.png" alt=""></p> <h2 id="_3-stm32-是什么"><a href="#_3-stm32-是什么" class="header-anchor">#</a> 3 STM32 是什么</h2> <p>ST：意法半导体</p> <p>M：MCU/MPU</p> <p>32：32位</p> <h3 id="_3-1-系列"><a href="#_3-1-系列" class="header-anchor">#</a> 3.1 系列</h3> <p>共五大类：MPU/高性能 MCU/主流 MCU/超低功耗 MCU/无线系列 MCU</p> <p>选型手册。</p> <h2 id="_4-数据手册"><a href="#_4-数据手册" class="header-anchor">#</a> 4 数据手册</h2> <p><strong>获取方式</strong></p> <ol><li>ST 官网</li> <li>stcu 中文社区</li></ol> <h3 id="_4-1-查看数据手册"><a href="#_4-1-查看数据手册" class="header-anchor">#</a> 4.1 查看数据手册</h3> <p>目录：</p> <ol><li>介绍</li> <li>规格说明</li> <li>引脚定义</li> <li>存储器映像</li> <li>电气特性</li> <li>封装特性</li> <li>订货代码</li> <li>版本历史</li></ol> <p><img src="/wiki/stm32/3.png" alt=""></p> <p>stm32f103rct6，是通用增强型，64 位引脚，48kb RAM,256k 闪存存储器， LQFP 封装，工作在 -40 摄氏度 至 85 摄氏度的芯片。
数据手册内容概要：</p> <p><img src="/wiki/stm32/4.png" alt=""></p> <p>查询数据手册可知：</p> <p><strong>SRAM</strong>: 高速缓存。</p> <p>stm32f103rct6 的基本参数为：</p> <ol><li>主频/FLASH/SRAM：72MHz/256Kb/48kb</li> <li>工作电压/最大电流：2.0~3.6V/150mA</li> <li>I/O 引脚接入电压范围：COMS 端口：-0.3V ~ 3.6V，兼容 5V 端口：-0.3V ~ 5.5V</li> <li>单个 I/O 引脚最大电流：25mA</li></ol> <p>flash起始地址为0x8000000，大小为0x4000(16进制)—&gt;262144字节(10进制)—&gt;256KB</p> <p>RAM起始地址为0x2000000，大小为0xC000(16进制)—&gt;49125字节(10进制)—&gt;48KB</p> <p><strong>引脚定义</strong></p> <p>引脚类型：（LQFP64 为例）</p> <ol><li>电源引脚，如 VSSA，VBAT，VDD 等以 V 开头的。</li> <li>晶振引脚，如 PC14-OSC32_IN,PD1 OSC_OUT 等带 IN/OUT 的引脚。</li> <li>复位引脚，如 NRST</li> <li>下载引脚
<ol><li>JTAG，可以下载、仿真、调试，占用 5 个 I/O。</li> <li>SWD，下载、仿真、调试，占用 2 个 I/O ，建议使用。（SWDIO/SWCLK/GND/VCC/RESET(可选)）</li> <li>串口，下载，占用两个引脚。</li></ol></li> <li>BOOT 引脚（BOOT0/PB2(BOOT1)）</li> <li>GPIO 引脚（P 开头的引脚）</li></ol> <h2 id="_5-最小系统和-i-o-分配"><a href="#_5-最小系统和-i-o-分配" class="header-anchor">#</a> 5 最小系统和 I/O 分配</h2> <p>保证 MCU 正常工作的最小电路组成单元。</p> <ul><li>主控芯片</li> <li>电源电路</li> <li>晶振电路</li> <li>下载调试电路</li> <li>BOOT 启动电路</li> <li>复位电路</li></ul> <p><img src="/wiki/stm32/5.png" alt=""></p> <h3 id="_5-1-复位电路"><a href="#_5-1-复位电路" class="header-anchor">#</a> 5.1 复位电路</h3> <p><img src="/wiki/stm32/6.png" alt=""></p> <p>STM32 复位引脚 NRST 保持低电平状态实践 1~4.5ms 即可复位。</p> <ol><li>上电复位</li> <li>复位按键复位</li></ol> <p>上电的瞬间，电容充电，NRST 是低电平，电容充满电后，NRST 变为高电平。</p> <p>控制电容大小，控制电容充满电的时间满足复位要求。</p> <h3 id="_5-2-启动电路"><a href="#_5-2-启动电路" class="header-anchor">#</a> 5.2 启动电路</h3> <p><img src="/wiki/stm32/7.png" alt=""></p> <p>ISP Mode（2、3）</p> <p>Run Mode（1、2）</p> <h3 id="_5-3-晶振电路"><a href="#_5-3-晶振电路" class="header-anchor">#</a> 5.3 晶振电路</h3> <p>如果使用内部RC振荡器而不使用外部晶振，请按照下面方法处理：</p> <ol><li>对于100脚或144脚的产品，OSC_IN 应接地，OSC_OUT 应悬空。</li> <li>对于少于100脚的产品，有2种接法：
<ol><li>OSC_IN和OSC_OUT分别通过10K电阻接地。此方法可提高EMC性能。</li> <li>分别重映射OSC_IN和OSC_OUT至PD0和PD1，再配置PD0和PD1为推挽输出并输出'0'。此方法可以减小功耗并(相对上面2.1)节省2个外部电阻。</li></ol></li></ol> <p>外部低速晶振（32.768KHz）</p> <p><img src="/wiki/stm32/8.png" alt=""></p> <p><img src="/wiki/stm32/9.png" alt=""></p> <p>外部高速晶振（8MHz）</p> <p><img src="/wiki/stm32/10.png" alt=""></p> <h3 id="_5-4-下载调试电路"><a href="#_5-4-下载调试电路" class="header-anchor">#</a> 5.4 下载调试电路</h3> <p>SWD：</p> <p><img src="/wiki/stm32/11.png" alt=""></p> <p>USB-0DG:</p> <p><img src="/wiki/stm32/12.png" alt=""></p> <h3 id="_5-5-i-o-分配"><a href="#_5-5-i-o-分配" class="header-anchor">#</a> 5.5 I/O 分配</h3> <p>优先分配特定外设 I/O，然后分配通用 I/O，最后微调。</p> <h2 id="_6-搭建开发环境"><a href="#_6-搭建开发环境" class="header-anchor">#</a> 6 搭建开发环境</h2> <h3 id="_6-1-常用开发工具"><a href="#_6-1-常用开发工具" class="header-anchor">#</a> 6.1 常用开发工具</h3> <p>开发环境：MDK，仿真器：ST-LINK/J-LINK/DAP，串口调试助手：sscom/putty</p> <h3 id="_6-2-mdk-安装和-器件支持包"><a href="#_6-2-mdk-安装和-器件支持包" class="header-anchor">#</a> 6.2 MDK 安装和 器件支持包</h3> <p>均可在 arm keil 官网直接下载。</p> <p>想要在国内如何快速下载 keil 的 pack 文件包，可以先在 keil 的 pack 官网查找自己想要的 pack，
然后添加到 http://keilpack.azureedge.net/pack/ 末尾，如：
<code>http://keilpack.azureedge.net/pack/ARM.V2M_MPS3_SSE_300_BSP.1.1.0.pack</code></p> <p>注意：安装路径不要有中文，路径越短越好。</p> <p>KEIL5 默认使用 armclang6 编译器，最好使用 HAL 库。</p> <h3 id="_6-3-安装仿真器驱动"><a href="#_6-3-安装仿真器驱动" class="header-anchor">#</a> 6.3 安装仿真器驱动</h3> <p>DAP 仿真器不需要驱动。</p> <p>ST-LINK 需要安装驱动。</p> <h3 id="_6-4-安装-ch340-usb-虚拟串口驱动"><a href="#_6-4-安装-ch340-usb-虚拟串口驱动" class="header-anchor">#</a> 6.4 安装 CH340 USB 虚拟串口驱动</h3> <p>CH340作为一种电平转换芯片，用于TTL电平标准转USB电平标准，最终实现USB转串口（一般用于电脑和设备之间的通信）</p> <p>CH340驱动就是USB转串口的驱动的一种，芯片是CH340的均可以使用。安装CH340驱动之后，板子连接串口就可以正常发挥其功能了。</p> <p><strong>USB虚拟串口作用</strong></p> <ol><li>USB口当串口使用。</li> <li>USB连接串口 1，USB 还能当作串口来下载程序。</li> <li>当 USB 供电口。</li></ol> <p>查询数据手册，串口1为 PA9，PA10</p> <p><img src="/wiki/stm32/13.png" alt=""></p> <h2 id="_7-mdk-编译例程"><a href="#_7-mdk-编译例程" class="header-anchor">#</a> 7 MDK 编译例程</h2> <p>部分编译：只编译更新过的代码。</p> <p>全局编译：全部编译。</p> <p><img src="/wiki/stm32/14.png" alt=""></p> <p>FLASH 大小：code + RO-Data + RW-data</p> <p>SRAM 大小：RW -data + ZI-data</p> <p>还可以看 <code>.map</code> 文件查看。</p> <p>下载到开发板执行的文件是 <code>.hex</code> 文件。</p> <p>编译后双击项目名查看 <code>.map</code> 文件，最后可以查看 FLASH 和 ROM 大小。</p> <h3 id="_7-1-串口下载程序"><a href="#_7-1-串口下载程序" class="header-anchor">#</a> 7.1 串口下载程序</h3> <p>M3 和 M4 开发板支持串口下载程序，M7 不支持串口下载。</p> <p>STM32 的 ISP 下载，常用串口1 下载程序。</p> <p>使用 usb 虚拟串口，需 CH340 USB 虚拟串口驱动。</p> <p><strong>ISP 方式</strong></p> <p>ISP（在系统编程）是通过ST在芯片生产线上写入内嵌的自举程序到芯片系统存储器中，启动时从系统存储器中运行这个自举程序，它通过USART1串口来将我们的程序写入闪存存储器中。
注意下载时要将开发板上的boot开关打到ISP模式，ISP模式下载完成后可以立即执行程序。而如果要单独启动程序，则必须将boot开关打到RUN运行模式。</p> <p>ISP下载需要借助第三方工具，如mcuisp.exe或FlyMcu.exe。</p> <p><img src="/wiki/stm32/15.png" alt=""></p> <p><img src="/wiki/stm32/16.png" alt=""></p> <p>F4 系列波特率最大：76800，F1 系列最大波特率：460800。</p> <h3 id="_7-2-stm32-启动模式-m3-m4"><a href="#_7-2-stm32-启动模式-m3-m4" class="header-anchor">#</a> 7.2 STM32 启动模式（M3/M4）</h3> <p>stm32f103rct6。</p> <p>查询参考手册 2.4 小结，可得知 stm32f10xxx 的启动配置：</p> <p><img src="/wiki/stm32/17.png" alt=""></p> <p>根据选定的启动模式，主闪存存储器、系统存储器或SRAM可以按照以下方式访问：</p> <ul><li>从主闪存存储器启动：主闪存存储器被映射到启动空间(0x0000 0000)，但仍然能够在它原有的地址(0x0800 0000)访问它，即闪存存储器的内容可以在两个地址区域访问，0x00000000或0x0800 0000。用于存储用户程序。</li> <li>从系统存储器启动：系统存储器被映射到启动空间(0x0000 0000)，但仍然能够在它原有的地址(0x1FFF F000)访问它。存储有预烧录的启动程序。</li> <li>从内置SRAM启动：只能在0x2000 0000开始的地址区访问SRAM，掉电消失，不能永久存储。</li></ul> <p>ISP 下载即选择系统存储器启动。</p> <p>内嵌的自举程序用于通过USART1串行接口对闪存存储器进行重新编程。这个程序位于系统存
储器中，由ST在生产线上写入。</p> <p><strong>ISP 下载程序步骤</strong></p> <ol><li>BOOT0 接高电平，BOOT1 接低电平</li> <li>按复位键</li></ol> <p>程序下载到 主闪存存储器中。(0x08000000 - 0x0807FFFF)</p> <p><strong>程序执行一般步骤</strong></p> <ol><li>BOOT0 接低电平，BOOT1 任意</li> <li>按复位键</li></ol> <p><strong>ST-LINK/J-LINK 下载程序</strong></p> <p>使用 st-link 可以进行程序的调试。</p> <p><img src="/wiki/stm32/18.png" alt=""></p> <p>keil 里设置 debug 选择 ST-LINK Debugger。</p> <p>点击工具栏 load 即可将程序下载到 mcu 中。</p> <p><strong>使用 ST-LINK 调试程序</strong></p> <p>Debug 设置，use ST-LINK debugger，然后点击 settings，Debug 页面里，ort 选择为 SW，Flash Download 里勾选上 reset and run。</p> <p>Flash Download 页面配置下载算法，根据芯片 flash 大小配置，大于 512kb 手动配置。</p> <p><strong>keil 仿真</strong></p> <p>debug 选择 use simulator，并勾选 Run to main()</p> <p>首先查看芯片数据库</p> <p><img src="/wiki/stm32/21.png" alt=""></p> <p>将对应内容填写到下面：</p> <p><img src="/wiki/stm32/22.png" alt=""></p> <p>编译成功后设置断点后就可以进行仿真了。</p> <p><img src="/wiki/stm32/20.png" alt=""></p> <ol><li>Register：寄存器窗口，一般用于查看程序运行时间。</li> <li>Disassembly：反汇编窗口，将 C 语言代码和汇编对比显示。</li> <li>代码窗口，黄色的三角形表示将要执行的代码，绿色的三角形表示当前光标所在代码。</li> <li>Call Stack + Locals：调用关系&amp;局部变量窗口，通过该窗口可以查看函数调用关系，以及函数的局部变量。</li></ol> <p><img src="/wiki/stm32/23.png" alt=""></p> <ul><li>复位：其功能等同于硬件上按复位按钮。相当于实现了一次硬复位。按下该按钮之后，代码会重新从头开始执行。</li> <li>执行到断点处：该按钮用来快速执行到断点处，有时候你并不需要观看每步是怎么执行的，而是想快速的执行到程序的某个地方看结果，这个按钮就可以实现这样的功能，前提是你在查看的地方设置了断点。</li> <li>停止运行：此按钮在程序一直执行的时候会变为有效，通过按该按钮，就可以使程序停止下来，进入到单步调试状态。</li> <li>执行进去：该按钮用来实现执行到某个函数里面去的功能，在没有函数的情况下，是等同于执行过去按钮的。</li> <li>执行过去：在碰到有函数的地方，通过该按钮就可以单步执行过这个函数，而不进入这个函数单步执行。</li> <li>执行出去：该按钮是在进入了函数单步调试的时候，有时候可能不必再执行该函数的剩余部分了，通过该按钮就可以一步执行完该函数的余部分，并跳出函数，回到函数被调用的位置。</li> <li>执行到光标处：该按钮可以迅速的使程序运行到光标处，其实是挺像执行到断点处按钮功能，但是两者是有区别的，断点可以有多个，但是光标所在处只有一个。</li> <li>反汇编窗口：通过该按钮，就可以查看汇编代码，这对分析程序很有用。</li> <li>Call STACK 窗口：通过该按钮，显示调用关系&amp;局部变量窗口，显示当前函数的调用关系和局部变量，方便查看，对分析程序非常有用。</li> <li>观察窗口：MDK5 提供 2 个观察窗口（下拉选择），该按钮按下，会弹出一个显示变量的窗口，输入你所想要观察的变量/表达式，即可查看其值，是很常用的一个调试窗口。</li> <li>内存查看窗口：MDK5 提供 4 个内存查看窗口（下拉选择），该按钮按下，会弹出一个内存查看窗口，可以在里面输入你要查看的内存地址，然后观察这一片内存的变化情况。是很常用的一个调试窗口</li> <li>串口打印窗口：MDK5 提供 4 个串口打印窗口（下拉选择），该按钮按下，会弹出一个类似串口调试助手界面的窗口，用来显示从串口打印出来的内容。</li> <li>系统分析窗口：该图标下面有 6 个选项（下拉选择），我们一般用第一个，也就是逻辑分析窗口(Logic Analyzer)，点击即可调出该窗口，通过 SETUP 按钮新建一些 IO 口，就可以观察这些 IO 口的电平变化情况，以多种形式显示出来，比较直观。</li> <li>系统查看窗口：该按钮可以提供各种外设寄存器的查看窗口（通过下拉选择），选择对应外设，即可调出该外设的相关寄存器表，并显示这些寄存器的值，方便查看设置的是否正确。</li></ul> <p><strong>逻辑分析窗口使用</strong></p> <p><img src="/wiki/stm32/24.png" alt=""></p> <p>Set添加变量，变量类型（4）有 analysis/bit/status 等，如果是数字量，就选择 bit。</p> <p>添加要查看的引脚，例如 <code>GPIOA_Pin_3</code> 引脚，则输入 PORTA.3 或者 PORTA&gt;&gt;3</p> <p>DARMSTM.DLL -pSTM32F103RC</p> <p>zoom 可以调整 in 和 out 来调节 Grid。</p> <h2 id="_8-jtag-swd-调试"><a href="#_8-jtag-swd-调试" class="header-anchor">#</a> 8 JTAG/SWD 调试</h2> <h3 id="_8-1-原理"><a href="#_8-1-原理" class="header-anchor">#</a> 8.1 原理</h3> <p>Cortex-M 内核含有硬件调试模块，该模块可在取指（指令断点）出或访问数据（数据断点）时停止。
内核停止时，可以查询内核的内部状态和系统的外部状态。完成查询后，可恢复程序执行。</p> <h3 id="_8-2-查看函数段-函数执行时间"><a href="#_8-2-查看函数段-函数执行时间" class="header-anchor">#</a> 8.2 查看函数段/函数执行时间</h3> <p>设置：魔术棒-&gt; Utilities-&gt;settings-&gt;Trace-&gt;Core Clock 更改为适当的频率。</p> <p>如 stm32f103rct6 就设置为 72 Mhz</p> <h3 id="_8-3-call-stack-窗口"><a href="#_8-3-call-stack-窗口" class="header-anchor">#</a> 8.3 call stack 窗口</h3> <p>可以查看函数调用栈。</p> <h3 id="_8-4-寄存器窗口"><a href="#_8-4-寄存器窗口" class="header-anchor">#</a> 8.4 寄存器窗口</h3> <p>可以查看寄存器的相关信息。</p> <h3 id="_8-5-watch-window"><a href="#_8-5-watch-window" class="header-anchor">#</a> 8.5 watch window</h3> <p>查看函数首地址和变量值。</p> <p>可以设置全局变量在被读或者被写后自动停止运行。</p> <h3 id="_8-6-memroy-窗口"><a href="#_8-6-memroy-窗口" class="header-anchor">#</a> 8.6 Memroy 窗口</h3> <p>查看内存的值，在里面输入你要查看的内存地址，然后观察这一片内存的变化情况。</p> <p>注意：内存的值是小端模式。</p> <h3 id="_8-7-系统查看窗口"><a href="#_8-7-系统查看窗口" class="header-anchor">#</a> 8.7 系统查看窗口</h3> <p>该按钮可以提供各种外设寄存器的查看窗口（通过下拉选择），选择对应外设，即可调出该外设的相关寄存器表，并显示这些寄存器的值，方便查看设置的是否正确。</p> <h3 id="_8-8-仿真时要注意的点"><a href="#_8-8-仿真时要注意的点" class="header-anchor">#</a> 8.8 仿真时要注意的点</h3> <p>仿真时，要注意优化等级选择为 0。</p> <p>调试停止在断点处时，只是内核停止，外设会继续运行。</p> <p>断点设置不要打断通信。</p> <h2 id="_9-keil-设置"><a href="#_9-keil-设置" class="header-anchor">#</a> 9 keil 设置</h2> <h3 id="_9-1-编辑器设置"><a href="#_9-1-编辑器设置" class="header-anchor">#</a> 9.1 编辑器设置</h3> <ol><li>使用 utf-8 编码。</li> <li>显示空格。</li> <li>C/C++ 文件用空格替换 tab，一个 tab 换成 4 个 空格。</li> <li>ASM 文件用空格替换 tab，一个 tab 换成 4 个 空格。</li> <li>其他文件用空格替换 tab，一个 tab 换成 4 个 空格。</li> <li>更改注释颜色</li> <li>编辑器字体，c/asm 设置为：size：14，Fira Code Retina字体。</li></ol> <h3 id="_9-2-代码补全-于法检测"><a href="#_9-2-代码补全-于法检测" class="header-anchor">#</a> 9.2 代码补全&amp;于法检测</h3> <ol><li>回车键/tab 选中补全选项。</li></ol> <h3 id="_9-3-global-prop-文件保存设置"><a href="#_9-3-global-prop-文件保存设置" class="header-anchor">#</a> 9.3 global.prop 文件保存设置</h3> <p>MDK 安装目录下 global.prop 文件。</p> <h3 id="_9-4-编译选项"><a href="#_9-4-编译选项" class="header-anchor">#</a> 9.4 编译选项</h3> <ol><li>优化等级 O0</li> <li>C 语言标准 C99。</li></ol> <h2 id="_10-c-语言基础"><a href="#_10-c-语言基础" class="header-anchor">#</a> 10 C 语言基础</h2> <h3 id="_10-1-位操作"><a href="#_10-1-位操作" class="header-anchor">#</a> 10.1 位操作</h3> <p><strong>1. 在不改变其他位的情况下，对某几个位进行设值</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>GPIOA<span class="token operator">-&gt;</span>CRL <span class="token operator">&amp;=</span> <span class="token number">0xFFFFFFFBF</span> <span class="token comment">// 将第 bit6 清零。</span>
GPIOA<span class="token operator">-&gt;</span>CRL <span class="token operator">|=</span> <span class="token number">0X00000040</span><span class="token punctuation">;</span> <span class="token comment">/* 设置 bit6 的值为 1，不改变其他位的值 */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>2. 移位操作提高代码的可读性</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>SysTick<span class="token operator">-&gt;</span>CTRL <span class="token operator">|=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
SysTick<span class="token operator">-&gt;</span>CTRL <span class="token operator">|=</span> <span class="token number">0X0002</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第一种操作比第二种操作可读性更好。</p> <p><strong>3. 按位取反操作</strong></p> <p>按位取反在设置寄存器的时候经常被使用，常用于清除某一个/某几个位。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// 仅设置 CTRL 寄存器的第 0 位（最低位）为 0，其他位的值保持不变。</span>
SysTick<span class="token operator">-&gt;</span>CTRL <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">/* 关闭 SYSTICK */</span>
SysTick<span class="token operator">-&gt;</span>CTRL <span class="token operator">&amp;=</span> <span class="token number">0XFFFFFFFE</span><span class="token punctuation">;</span> <span class="token comment">/* 关闭 SYSTICK */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可读性/可维护性都大大提升。</p> <p><strong>4. ^ 按位异或</strong></p> <p>该功能非常适合用于控制某个位翻转</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>GPIOB<span class="token operator">-&gt;</span>ODR <span class="token operator">^=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>5. 移位</strong></p> <p>左移补 0，右移正数 补 0，负数补 1。</p> <h3 id="_10-2-extern-外部申明"><a href="#_10-2-extern-外部申明" class="header-anchor">#</a> 10.2 extern 外部申明</h3> <p>extern 可以置于变量或者函数前，以表示变量或者函数的定义在别的文件中，提示编译器遇到此变量和函数时在其他模块中寻找其定义。</p> <h3 id="_10-3-stdint-h"><a href="#_10-3-stdint-h" class="header-anchor">#</a> 10.3 stdint.h</h3> <p>C99 标准引进的标准 C 库的文件</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stddef.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;inttypes.h&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_11-stm32-基础知识"><a href="#_11-stm32-基础知识" class="header-anchor">#</a> 11 stm32 基础知识</h2> <h3 id="_11-1-寄存器基础知识"><a href="#_11-1-寄存器基础知识" class="header-anchor">#</a> 11.1 寄存器基础知识</h3> <p>寄存器（Register）是单片机内部一种特殊的内存，它可以实现对单片机各个功能的控制，
简单的来说可以把寄存器当成一些控制机构，控制包括内核及外设的各种状态。</p> <p>寄存器是CPU内部用来存放数据的一些小型存储区域，用来暂时存放参与运算的数据和运算结果。</p> <p>寄存器是CPU内部的元件，包括通用寄存器、专用寄存器和控制寄存器。寄存器拥有非常高的读写速度，所以在寄存器之间的数据传送非常快。</p> <p>stm32 寄存器是 32 位的。</p> <p><img src="/wiki/stm32/25.png" alt=""></p> <p>内核寄存器，我们一般只需要关心中断控制寄存器和 SysTick 寄存器即可，其他三大类，我们一般很少直接接触。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//  GPIOB 的 ODR 寄存器为例，其寄存器地址为：0X40010C0C，所以我们对其赋值可以写成：</span>

<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token class-name">uint32_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0x40010C0C</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0xFFFF</span><span class="token punctuation">;</span>
<span class="token comment">// 全部 0XFFFF，表示 GPIOB 所有 IO 口（16 个 IO 口）都输出高电平。</span>

<span class="token comment">// 以结构体访问方式：</span>
GPIOB<span class="token operator">-&gt;</span>ODR <span class="token operator">=</span> <span class="token number">0XFFFF</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_11-2-stm32-系统架构"><a href="#_11-2-stm32-系统架构" class="header-anchor">#</a> 11.2 stm32 系统架构</h3> <p><strong>1. Coterx M 内核 &amp; 芯片</strong></p> <p><img src="/wiki/stm32/26.png" alt=""></p> <p>ARM公司提供CM3内核和调试系统，其他的东西（外设（IIC、SPI、UART、
TIM等）、存储器（SRAM、FLASH等）、I/O等）由芯片制造商设计开发。这里ST公司就是
STM32F103芯片的制造商。</p> <p><strong>2. F1 系统架构</strong></p> <p>详细模块框架图见数据手册 第 2 节。</p> <p>简略框架图见参考手册 2.1 节。</p> <p><img src="/wiki/stm32/27.png" alt=""></p> <p>1 是主动单元，2 是被动单元。</p> <p>主系统由以下部分组成：</p> <p>四个驱动单元：</p> <ul><li>M3 内核 DCode 总线（D-bus）</li> <li>和 system 总线（S-bus）</li> <li>通用 DMA1</li> <li>DMA2</li></ul> <p>DMA，即直接存储器访问，DMA传输将数据从一个地址空间复制到另一个地址空间，提供在外设和存储器之间或者存储器和存储器之间的高速数据传输。</p> <p>互联型有五个主动单元，增加了网口。</p> <p>四个被动单元：</p> <ul><li>内部 SRAM</li> <li>内部闪存存储器</li> <li>FSMC</li> <li>AHB到APB的桥，连接所有APB设备。</li></ul> <p>主动单元可以主动发起通信指令。</p> <p>总线时钟频率</p> <p>内核最高频率：72MHz</p> <p>AHB：72Mhz，APB1：36MHz，APB2:72MHz</p> <p>SDIO（用于 SD 卡的 I/O）和 复位/时钟控制（RCC） 连接到 AHB 上。</p> <h3 id="_11-3-存储器映射"><a href="#_11-3-存储器映射" class="header-anchor">#</a> 11.3 存储器映射</h3> <p>参考手册 2.2 节：</p> <p>程序存储器、数据存储器、寄存器和输入输出端口被组织在同一个4GB的线性地址空间内。数据字节以小端格式存放在存储器中。可访问的存储器空间被分成8个主要块，每个块为512MB。</p> <p><strong>stm32 寻址范围</strong></p> <ol><li>32根地址线，每根地址线有两个状态：导通和不导通。</li> <li>单片机内存地址访问的存储单元是按字节编址而不是 bit。</li></ol> <p>数据总线宽度是编址单位。如果数据总线宽度是 32，则按 4 字节编址。</p> <p>数据总线宽度是 16，则按 2 字节编址。</p> <p>处理器能处理的字长（数据总线宽度）越大，运算能力越强。</p> <p>如 64 位电脑，字长是 64位，则一次能处理 8 字节，即数据总线宽度（64位）。</p> <p>地址总线 32 位，内存最多大为 2<sup>32</sup> 即 4Gb。</p> <p>寻址范围：4G 字节。即 2<sup>32</sup></p> <p><code>0x0000 ~ 0xFFFFFFFF</code></p> <p>如 19 根地址线，16根数据线的存储器芯片，</p> <p>寻址空间是：512kb，内存大小是 1Mb。</p> <p><strong>存储器功能划分</strong></p> <p>STB 将 4GB 的内存空间分为八块：</p> <p><img src="/wiki/stm32/28.png" alt=""></p> <p>Block0:</p> <p><img src="/wiki/stm32/29.png" alt=""></p> <p>Block1:</p> <p><img src="/wiki/stm32/30.png" alt=""></p> <p>Block2:</p> <p><img src="/wiki/stm32/31.png" alt=""></p> <p><strong>存储器映射</strong></p> <p>存储器可以存储数据的设备，本身没有地址信息，对存储器分配地址的过程称为存储器映射。</p> <p>数据手册中的存储器映像图：</p> <p><img src="/wiki/stm32/wiki/stm32%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84.png" alt=""></p> <h3 id="_11-4-寄存器映射"><a href="#_11-4-寄存器映射" class="header-anchor">#</a> 11.4 寄存器映射</h3> <p>寄存器是特殊的存储器，给寄存器地址命名的过程就是寄存器映射。</p> <p>如 <code>0x4001080C</code> 映射为 <code>GPIOA_ODR</code>。</p> <p>根据参考手册2.3 存储器映像，可查看外设和外设挂在的总线。</p> <p>根据参考手册 8.2.4 端口输出数据寄存器的偏移地址是 0CH，而查询 参考手册 2.3 GPIOA 的起始地址是：
<code>0x40010800</code> 所以 <code>GPIOA_ODR</code>的地址就是 <code>0x4001080C</code>。</p> <p>复位值：寄存器复位后的值：0x00000000。高 16 位未用，低 16 位有效。</p> <p>寄存器映射后操作：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GPIOA_ODR</span> <span class="token expression"><span class="token operator">*</span><span class="token punctuation">(</span><span class="token class-name">uint32_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0x4001080c</span><span class="token punctuation">)</span></span></span>
GPIOA_ODR <span class="token operator">=</span> <span class="token number">0xFFFF</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>寄存器地址计算</strong></p> <ol><li>总线基地址（BUS_BASE_ADDR）</li> <li>外设基于总线及地址的偏移量（PERIPH_OFFSET）</li> <li>寄存器相对于外设基地址的偏移量（REG_OFFSET）</li></ol> <p>寄存器地址 = BUS_BASE_ADDR + PERIPH_OFFSET + REG_OFFSET</p> <p>查询参口手册 2.3 存储器映像</p> <p>总线基地址：</p> <ul><li>APB1：0x4000 0000 ，偏移量 0</li> <li>APB2：0x4001 0000，偏移量 0x1 0000</li> <li>AHB： 0x4001 8000，偏移量 0x1 8000</li></ul> <p>APB1 基地址，也叫做外设基地址。(PERIPH_BASE)</p> <p>偏移量是相对于外设基地址来说的。</p> <p>GPIO 外设基地址及偏移量：</p> <p><img src="/wiki/stm32/31-5.png" alt=""></p> <p>GPIOB 寄存器相对外设基地址的偏移量：</p> <p><img src="/wiki/stm32/32.png" alt=""></p> <p><strong>结构体映射寄存器</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
   __IO <span class="token class-name">uint32_t</span> CRL<span class="token punctuation">;</span>
   __IO <span class="token class-name">uint32_t</span> CRH<span class="token punctuation">;</span>
   __IO <span class="token class-name">uint32_t</span> IDR<span class="token punctuation">;</span>
   __IO <span class="token class-name">uint32_t</span> ODR<span class="token punctuation">;</span>
   __IO <span class="token class-name">uint32_t</span> BSRR<span class="token punctuation">;</span>
   __IO <span class="token class-name">uint32_t</span> BRR<span class="token punctuation">;</span>
   __IO <span class="token class-name">uint32_t</span> CKR<span class="token punctuation">;</span>
<span class="token punctuation">}</span>GPIO_TypeDef<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GPIOA_BASE</span> <span class="token expression"><span class="token number">0x4001</span> <span class="token number">0800</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GPIOA</span> <span class="token expression"><span class="token punctuation">(</span><span class="token punctuation">(</span>GPIOA_TypeDef<span class="token operator">*</span><span class="token punctuation">)</span>GPIOA_BASE<span class="token punctuation">)</span></span></span>

<span class="token comment">// 使用</span>
GPIOA<span class="token operator">-&gt;</span>ODR <span class="token operator">=</span> <span class="token number">0xFFFF</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>定义在 <code>stm32f103xe.h</code> 中，725 行开始。</p> <h2 id="_12-新建寄存器版本-mdk-工程"><a href="#_12-新建寄存器版本-mdk-工程" class="header-anchor">#</a> 12 新建寄存器版本 MDK 工程</h2> <h3 id="_12-1-准备工作"><a href="#_12-1-准备工作" class="header-anchor">#</a> 12.1 准备工作</h3> <p>官网下载 stm32Cubef1 固件包。</p> <p>下载 Patch_CubeF1 1.8.3</p> <h3 id="_12-2-新建工程步骤"><a href="#_12-2-新建工程步骤" class="header-anchor">#</a> 12.2 新建工程步骤</h3> <p><strong>新建工程文件夹</strong></p> <p>目录下新建</p> <ul><li>Drivers 硬件相关的驱动层文件
<ul><li>BSP  存放开发板板级支持包驱动代码，各种外设驱动</li> <li>CMSIS 存放 CMSIS 底层代码，如启动文件 (.s文件)</li> <li>SYSTEM 核心驱动代码，如 sys.c，delay.c 和 usart.c 等。</li></ul></li> <li>Middlewares 中间层组件文件和第三方中间层文件</li> <li>Output 工程编译输出文件,.hex/.bin/.o 文件等</li> <li>Projects MDK 工程文件</li> <li>User HAL 库用户配置文件、main.c 文件、中断处理文件、分散加载文件</li></ul> <p>5 个目录。</p> <p><strong>新建工程框架</strong></p> <ol><li><p>新建工程</p></li> <li><p>保存工程</p></li> <li><p>选择主控型号</p></li></ol> <p>选择 stm32f103rc</p> <ol start="4"><li>删除文件夹</li></ol> <p>删除 Listings 文件夹（用于存放编译过程产生的链接列表文件）和 Objects文件夹（用于存放编译过程产生的调试信息、hex、预览、lib文件等）。</p> <p>DebugConfig 文件夹用于存放调试设置信息文件，不可删除。</p> <h3 id="_12-3-添加文件"><a href="#_12-3-添加文件" class="header-anchor">#</a> 12.3 添加文件</h3> <p><strong>1. 添加工程名：Templates</strong></p> <p><strong>2. 新建分组：Startup、User、Drivers/System、Docs</strong></p> <p><strong>3. 添加文件</strong></p> <p>3.1. 添加 <code>startup_stm32f103xe.s</code> 到 Startup。256kb &lt;= flash &lt;= 512 kb</p> <p>3.2. 修改启动文件:</p> <div class="language-asm line-numbers-mode"><pre class="language-text"><code>Heap_Size EQU 0x00000200
;未用到编译器自带的内存管理（malloc,free等），设置 Heap_Szie 为 0
Heap_Size EQU 0x00000000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>3.3. 修改函数：</p> <div class="language-asm line-numbers-mode"><pre class="language-text"><code>Reset_Handler   PROC
                EXPORT Reset_Handler [WEAK]
                IMPORT __main
                ;寄存器版本代码，没有用到 SystemInit 函数，注释以下代码防止报错。
                ;HAL 库版本代码建议加上，以初始化 stm32 时钟等。
                ;IMPORT SystemInit
                ;LDR R0, =SystemInit
                ;BLX R0
                LDR R0, =__main
                BX R0
                ENDP
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>4. 魔术棒设置</strong></p> <p>4.1. Target 选项卡</p> <p>设置使用的编译器版本、外部晶振频率</p> <p>Keil 5.35 版本后不能修改 Xtal，默认 12Mhz。</p> <p>编译器选择 armcc V5.06（自行安装）</p> <p>4.2. Output 选项卡</p> <p>设置 Objects 输出文件夹、生成 hex文件、输出浏览信息</p> <p>Output 文件夹定位到 ../Output</p> <p>勾选生成 hex 文件。</p> <p>4.3. Listing 选项卡</p> <p>设置 Listing 输出文件夹 为 ../Output</p> <p>4.4. C/C++ 选项卡</p> <p>设置全局宏定义、优化等级、C99 Mode、头文件包含路径</p> <p>添加宏定义：<code>STM32F103xE</code></p> <p>优化等级选择 0</p> <p>如果编译器选择 armclang6，推荐优化等级 1</p> <p>勾选 C99 mode</p> <p>设置头文件包含路径。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>..\Drivers\CMSIS\Device\ST\STM32F1xx\Include
..\Drivers\CMSIS\Include
..\Drivers
..\User
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>推荐在编写代码时包含路径时基于头文件指定包含路径</p> <p>设置路径 + 相对路径</p> <p>即表示当前头文件包含路径所指示的 4 个文件夹里面，肯定有某一个文件夹包含了：
<code>SYSTEM/sys/sys.h</code> 的路径，实际上就是在 Drivers 文件夹下面。</p> <p>两者结合起来就是：</p> <p><code>#include &quot;../../Drivers/SYSTEM/sys/sys.h&quot;</code></p> <p>如：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;./SYSTEM/sys/sys.h&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>4.5. Debug 选项卡</p> <p>设置使用的仿真器类型、选择下载接口</p> <p>4.6. Utilities 选项卡</p> <p>设置下载功能、下载算法、下载算法起始地址和大小等（部分芯片需要修改）</p> <p>4.7. Linker 选项卡</p> <p>添加分散加载文件（要用到 外部 flash）</p> <p>4.8. Utilities</p> <p>点击 --Use Debug Driver-- Settings</p> <p>勾上 <code>reset and run</code></p> <p><strong>5 新建 main.c 编写代码并添加进组 User</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;./SYSTEM/sys/sys.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;./SYSTEM/usart/usart.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;./SYSTEM/delay/delay.h&quot;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">uint8_t</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">sys_stm32_clock_init</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay_init</span><span class="token punctuation">(</span><span class="token number">72</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">usart_init</span><span class="token punctuation">(</span><span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;t:%d\r\n&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2023/9/12 08:24:09</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wiki/emebedded/stm32/jxkj.html" class="prev">
        stm32 江科大自动协教程笔记
      </a></span> <span class="next"><a href="/wiki/emebedded/stm32/2.html">
        FreeRTOS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wiki/assets/js/app.de2655f3.js" defer></script><script src="/wiki/assets/js/2.4c1f2b65.js" defer></script><script src="/wiki/assets/js/1.17342216.js" defer></script><script src="/wiki/assets/js/63.7e64d063.js" defer></script>
  </body>
</html>
